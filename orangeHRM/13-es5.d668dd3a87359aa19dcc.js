function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{hGdz:function(t,e,n){"use strict";n.r(e);var a,i=n("ofXK"),o=n("rhD1"),c=n("3Pt+"),r=n("tyNb"),s=n("0IaG"),l=n("FtGj"),b=n("dNgK"),d=n("fXoL"),m=n("lJxs"),g=n("dMDw"),u=n("AytR"),p=n("tk/3"),f=n("qXBG"),h=u.a.apiUrl+"/users",v=u.a.apiUrl+"/projects",k=((a=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getProjects",value:function(t,e,n){var a="?pagesize=".concat(t,"&page=").concat(e);return n&&(a+="&search=".concat(n)),this.http.get(v+"/getprojects"+a)}},{key:"addProject",value:function(t,e){var n={project_name:t.project_name,project_desc:t.project_desc,assignedUsers:t.assignedUsers,userId:this.authService.getUserId()};return this.http.post(v+"/create",n)}},{key:"getProjectById",value:function(t){return this.http.get(v+"/"+t)}},{key:"updateProject",value:function(t,e){return this.http.put(v+"/"+t._id,{id:t._id,project_name:t.project_name,project_desc:e.project_desc,assignedUsers:e.assignedUsers})}},{key:"deleteProject",value:function(t){return this.http.delete(v+"/"+t)}},{key:"search",value:function(t){var e="?";return t&&(e+="search=".concat(t)),this.http.get(h+"/search"+e).pipe(Object(g.debounceTime)(500),Object(m.a)((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||a)(d.Yb(p.b),d.Yb(r.b),d.Yb(f.a))},a.\u0275prov=d.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),C=n("kmnG"),_=n("qFsG"),T=n("/1cH"),U=n("bTqV"),I=n("NFeN"),P=n("A5z7"),O=n("FKr1"),x=["assigneeInput"],y=["auto"];function M(t,e){1&t&&(d.Ub(0,"h1",19),d.Ic(1,"Edit Project"),d.Tb())}function w(t,e){1&t&&(d.Ub(0,"h1",19),d.Ic(1,"Create Project"),d.Tb())}function j(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Enter Project Name."),d.Tb())}function S(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Enter Project Description."),d.Tb())}function z(t,e){1&t&&(d.Ub(0,"mat-icon",28),d.Ic(1,"cancel"),d.Tb())}function F(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-chip",26),d.cc("removed",(function(){d.zc(n);var t=e.$implicit;return d.gc(2).remove(t)})),d.Ic(1),d.Gc(2,z,2,0,"mat-icon",27),d.Tb()}if(2&t){var a=e.$implicit,i=d.gc(2);d.oc("selectable",i.selectable)("removable",i.removable),d.Cb(1),d.Lc(" ",a.first_name," ",a.last_name," "),d.Cb(1),d.oc("ngIf",i.removable)}}function D(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div",20),d.Ub(1,"div",21),d.Ub(2,"mat-icon",22),d.Ic(3,"group"),d.Tb(),d.Ub(4,"mat-label"),d.Ic(5,"Assigned Users"),d.Tb(),d.Pb(6,"br"),d.Tb(),d.Ub(7,"div",21),d.Ub(8,"input",23),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().project.assignedUsers=t})),d.Tb(),d.Ub(9,"mat-chip-list",null,24),d.Gc(11,F,3,5,"mat-chip",25),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.gc();d.Cb(8),d.oc("ngModel",a.project.assignedUsers),d.Cb(3),d.oc("ngForOf",a.project.assignedUsers)}}function G(t,e){if(1&t&&(d.Ub(0,"mat-option",29,30),d.Ic(2),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(2),d.Lc(" ",n.first_name," ",n.last_name," ")}}var L,A=((L=function(){function t(e,n,a,i,o,r,s){_classCallCheck(this,t),this.projectsService=e,this.dialogRef=n,this.route=a,this._snackBar=i,this.router=o,this.dialog=r,this.visible=!0,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[l.g,l.c],this.fruitCtrl=new c.d,this.isLoading=!0,this.project=[],this.data=[],this.horizontalPos="right",this.verticalPos="top",this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],console.log(s,"0000000"),this.data=s,this.project={_id:"",project_name:"",project_desc:"",assignedUsers:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.data.id&&"edit"==this.data.mode?this.projectsService.getProjectById(this.data.id).subscribe((function(e){t.isLoading=!1,t.isEdit=!0,t.mode="edit",console.log("ttt",e),t.project={_id:e.data[0]._id,project_name:e.data[0].project_name,project_desc:e.data[0].project_desc,assignedUsers:e.data[0].assignedUsers}})):(console.log("Create"),this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(t){var e=this;t.invalid||(console.log(t.value),"create"===this.mode?this.projectsService.addProject(t.value,this.userId).subscribe((function(t){e.dialogRef.close()}),(function(t){console.log(t)})):this.projectsService.updateProject(this.project,t.value).subscribe((function(t){e.dialogRef.close()}),(function(t){console.log(t)})))}},{key:"searchUsers",value:function(t){var e=this;t&&this.projectsService.search(t).subscribe((function(t){e.searchUser=t.users}))}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.project.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.project.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Project.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"selected",value:function(t){this.project.assignedUsers.push(t.option.viewValue),this.project.assignedUsers.nativeElement.value="",this.project.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.project.assignedUsers.indexOf(t);e>=0&&this.project.assignedUsers.splice(e,1)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}}]),t}()).\u0275fac=function(t){return new(t||L)(d.Ob(k),d.Ob(s.h),d.Ob(r.a),d.Ob(b.a),d.Ob(r.b),d.Ob(s.b),d.Ob(s.a))},L.\u0275cmp=d.Ib({type:L,selectors:[["app-create-project"]],viewQuery:function(t,e){var n;1&t&&(d.Nc(x,!0),d.Nc(y,!0)),2&t&&(d.vc(n=d.dc())&&(e.assigneeInput=n.first),d.vc(n=d.dc())&&(e.matAutocomplete=n.first))},decls:35,vars:14,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["projectForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","project_name","type","text","placeholder","Project Name","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","project_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["class","container",4,"ngIf"],["type","text","matInput","","placeholder","New User...",3,"matAutocomplete","formControl","keyup"],["assigneeInput","","assigneeInput",""],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[1,"container"],[1,"row"],["md-list-icon",""],["type","hidden","name","assignedUsers",3,"ngModel","ngModelChange"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["datae",""]],template:function(t,e){if(1&t){var n=d.Vb();d.Gc(0,M,2,0,"h1",0),d.Gc(1,w,2,0,"h1",0),d.Ub(2,"form",1,2),d.cc("submit",(function(){d.zc(n);var t=d.wc(3);return e.onSave(t)})),d.Ub(4,"div",3),d.Ub(5,"mat-form-field",4),d.Ub(6,"mat-label"),d.Ic(7,"Project Name"),d.Tb(),d.Ub(8,"input",5,6),d.cc("ngModelChange",(function(t){return e.project.project_name=t})),d.Tb(),d.Gc(10,j,2,0,"mat-error",7),d.Tb(),d.Ub(11,"mat-form-field",4),d.Ub(12,"mat-label"),d.Ic(13,"Description"),d.Tb(),d.Ub(14,"textarea",8,9),d.cc("ngModelChange",(function(t){return e.project.project_desc=t})),d.Ic(16),d.Tb(),d.Gc(17,S,2,0,"mat-error",7),d.Tb(),d.Gc(18,D,12,2,"div",10),d.Pb(19,"br"),d.Ub(20,"mat-form-field",4),d.Ub(21,"mat-label"),d.Ic(22,"Assign Users"),d.Tb(),d.Ub(23,"input",11,12),d.cc("keyup",(function(){d.zc(n);var t=d.wc(24);return e.searchUsers(t.value)})),d.Tb(),d.Ub(26,"mat-autocomplete",13,14),d.cc("optionSelected",(function(t){return e.onSelection(t)})),d.Gc(28,G,3,3,"mat-option",15),d.Tb(),d.Tb(),d.Tb(),d.Ub(29,"div",16),d.Ub(30,"button",17),d.cc("click",(function(){return e.close()})),d.Ic(31,"Close"),d.Tb(),d.Ic(32,"\xa0 "),d.Ub(33,"button",18),d.Ic(34,"Save"),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.wc(3),i=d.wc(9),o=d.wc(15),c=d.wc(27);d.oc("ngIf","edit"==e.mode),d.Cb(1),d.oc("ngIf","create"==e.mode),d.Cb(7),d.oc("disabled",e.isEdit)("ngModel",e.project.project_name),d.Cb(2),d.oc("ngIf",i.hasError("required")),d.Cb(4),d.oc("ngModel",e.project.project_desc),d.Cb(2),d.Jc(e.project.project_desc),d.Cb(1),d.oc("ngIf",o.hasError("required")),d.Cb(1),d.oc("ngIf",e.project.assignedUsers.length>0),d.Cb(5),d.oc("matAutocomplete",c)("formControl",e.fruitCtrl),d.Cb(3),d.oc("displayWith",e.displayFn),d.Cb(2),d.oc("ngForOf",e.searchUser),d.Cb(5),d.oc("disabled",a.invalid)}},directives:[i.l,c.v,c.n,c.o,s.f,C.b,C.f,_.b,c.b,c.t,c.m,c.p,T.c,c.e,T.a,i.k,U.b,s.d,s.i,C.a,I.a,P.b,P.a,P.c,O.n],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.assign_btn[_ngcontent-%COMP%]{padding:0 28px;margin:11px}"]}),L);function B(t,e){if(1&t&&(d.Ub(0,"mat-chip"),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.Cb(1),d.Lc(" ",n.first_name," ",n.last_name," ")}}function E(t,e){if(1&t&&(d.Ub(0,"div",10),d.Ub(1,"div",11),d.Ub(2,"mat-icon",12),d.Ic(3,"group"),d.Tb(),d.Ub(4,"mat-label"),d.Ic(5,"Assigned Users"),d.Tb(),d.Pb(6,"br"),d.Tb(),d.Ub(7,"div",11),d.Ub(8,"mat-chip-list",null,13),d.Gc(10,B,2,2,"mat-chip",14),d.Tb(),d.Tb(),d.Tb()),2&t){var n=d.gc(2);d.Cb(10),d.oc("ngForOf",n.project.assignedUsers)}}function $(t,e){if(1&t&&(d.Ub(0,"mat-form-field",5),d.Ub(1,"mat-label"),d.Ic(2,"Created By"),d.Tb(),d.Pb(3,"input",6),d.Tb()),2&t){var n=d.gc(2);d.Cb(3),d.rc("value","",n.project.userId.first_name," ",n.project.userId.last_name,"")}}function R(t,e){if(1&t&&(d.Ub(0,"mat-form-field",5),d.Ub(1,"mat-label"),d.Ic(2,"Email"),d.Tb(),d.Pb(3,"input",6),d.Tb()),2&t){var n=d.gc(2);d.Cb(3),d.pc("value",n.project.userId.email)}}function N(t,e){if(1&t&&(d.Ub(0,"mat-form-field",5),d.Ub(1,"mat-label"),d.Ic(2,"updated By"),d.Tb(),d.Pb(3,"input",6),d.Tb()),2&t){var n=d.gc(2);d.Cb(3),d.rc("value","",n.project.updatedBy.first_name," ",n.project.userId.last_name,"")}}function V(t,e){if(1&t&&(d.Ub(0,"div",4),d.Ub(1,"mat-form-field",5),d.Ub(2,"mat-label"),d.Ic(3,"Project Name"),d.Tb(),d.Pb(4,"input",6),d.Tb(),d.Ub(5,"mat-form-field",5),d.Ub(6,"mat-label"),d.Ic(7,"Project Description"),d.Tb(),d.Ub(8,"textarea",7),d.Ic(9),d.Tb(),d.Tb(),d.Gc(10,E,11,1,"div",8),d.Pb(11,"br"),d.Gc(12,$,4,2,"mat-form-field",9),d.Gc(13,R,4,1,"mat-form-field",9),d.Gc(14,N,4,2,"mat-form-field",9),d.Ub(15,"mat-form-field",5),d.Ub(16,"mat-label"),d.Ic(17,"Created At"),d.Tb(),d.Pb(18,"input",6),d.hc(19,"date"),d.Tb(),d.Ub(20,"mat-form-field",5),d.Ub(21,"mat-label"),d.Ic(22,"Updated At"),d.Tb(),d.Pb(23,"input",6),d.hc(24,"date"),d.Tb(),d.Ub(25,"mat-form-field",5),d.Ub(26,"mat-label"),d.Ic(27,"Status"),d.Tb(),d.Pb(28,"input",6),d.Tb(),d.Tb()),2&t){var n=d.gc();d.Cb(4),d.pc("value",n.project.project_name),d.Cb(5),d.Jc(n.project.project_desc),d.Cb(1),d.oc("ngIf",n.project.assignedUsers.length>0),d.Cb(2),d.oc("ngIf",n.project.userId),d.Cb(1),d.oc("ngIf",n.project.userId),d.Cb(1),d.oc("ngIf",n.project.userId),d.Cb(4),d.pc("value",d.ic(19,9,n.project.createdAt)),d.Cb(5),d.pc("value",d.ic(24,11,n.project.updatedAt)),d.Cb(5),d.pc("value",n.project.status)}}var q,J=((q=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.projectsService=e,this.route=n,this.dialogRef=a,this.router=i,this.dialog=o,this.isLoading=!0,this.project=[],this.data=[],this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.data=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.projectsService.getProjectById(this.data.id).subscribe((function(e){t.isLoading=!1,t.project=e.data[0]}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||q)(d.Ob(k),d.Ob(r.a),d.Ob(s.h),d.Ob(r.b),d.Ob(s.b),d.Ob(s.a))},q.\u0275cmp=d.Ib({type:q,selectors:[["app-project-info"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["class","font","mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","","type","text","readonly",""],["class","container",4,"ngIf"],["appearance","outline",4,"ngIf"],[1,"container"],[1,"row"],["md-list-icon",""],["chipList",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.Ub(0,"div"),d.Ub(1,"h2",0),d.Ic(2,"Project Info"),d.Tb(),d.Tb(),d.Gc(3,V,29,13,"div",1),d.Ub(4,"div",2),d.Ub(5,"button",3),d.cc("click",(function(){return e.close()})),d.Ic(6,"Close"),d.Tb(),d.Ic(7,"\xa0 "),d.Tb()),2&t&&(d.Cb(3),d.oc("ngIf",!e.isLoading))},directives:[s.i,i.l,s.c,U.b,s.f,C.b,C.f,_.b,I.a,P.b,i.k,P.a],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),q),K=n("Wp6s"),Y=n("Qu3c"),H=n("Xa2L"),W=n("M9IT");function Q(t,e){if(1&t){var n=d.Vb();d.Ub(0,"button",11),d.cc("click",(function(){return d.zc(n),d.gc().openDialog(0,"create")})),d.Ic(1,"+ New Project"),d.Tb()}}function X(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-icon",20),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc().openDialog(t._id,"edit")})),d.Ic(1,"edit"),d.Tb()}}function Z(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-icon",21),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc().onDelete(t._id)})),d.Ic(1,"delete"),d.Tb()}}var tt=function(t){return["/authorized/tickets",t]};function et(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div",12),d.Ub(1,"mat-card",13),d.Ub(2,"mat-card-header"),d.Pb(3,"div",14),d.Ub(4,"mat-card-title",15),d.Ic(5),d.Tb(),d.Ub(6,"mat-card-subtitle",16),d.Ic(7),d.Tb(),d.Ub(8,"mat-card-actions"),d.Gc(9,X,2,0,"mat-icon",17),d.Gc(10,Z,2,0,"mat-icon",18),d.Ub(11,"mat-icon",19),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc().projectInfoDialog(t._id)})),d.Ic(12,"info"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit,i=d.gc();d.Cb(3),d.oc("routerLink",d.tc(8,tt,a._id)),d.Cb(1),d.pc("matTooltip",a.project_name),d.oc("routerLink",d.tc(10,tt,a._id)),d.Cb(1),d.Jc(a.project_name),d.Cb(1),d.pc("matTooltip",a.project_desc),d.Cb(1),d.Jc(a.project_desc),d.Cb(2),d.oc("ngIf",3!=i.userData.role),d.Cb(1),d.oc("ngIf",3!=i.userData.role)}}function nt(t,e){1&t&&(d.Ub(0,"div",22),d.Ub(1,"p",23),d.Ic(2,"No Projects Found!"),d.Tb(),d.Tb())}function at(t,e){1&t&&d.Pb(0,"mat-progress-spinner",24)}function it(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-paginator",25),d.cc("page",(function(t){return d.zc(n),d.gc().onChangedPage(t)})),d.Tb()}if(2&t){var a=d.gc();d.oc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var ot,ct,rt=((ot=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.projectsService=e,this.route=n,this.authService=a,this.dialog=i,this.router=o,this.projects=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Project Name","Description","Action"]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.userData=this.authService.getUserData(),this.projectsService.getProjects(this.perPage,this.currentPage,this.search).subscribe((function(e){t.projects=e.data,t.isLoading=!1,t.Count=e.count}))}},{key:"onDelete",value:function(t){var e=this;this.projectsService.deleteProject(t).subscribe((function(t){e.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(t,e){var n=this,a=new s.e;a.disableClose=!0,a.autoFocus=!0,a.width="598px",a.data={id:t,mode:e},this.dialog.open(A,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}},{key:"projectInfoDialog",value:function(t){var e=this,n=new s.e;n.disableClose=!1,n.autoFocus=!0,n.width="598px",n.data={id:t},this.dialog.open(J,n).afterClosed().subscribe((function(t){e.ngOnInit()}))}}]),t}()).\u0275fac=function(t){return new(t||ot)(d.Ob(k),d.Ob(r.a),d.Ob(f.a),d.Ob(s.b),d.Ob(r.b))},ot.\u0275cmp=d.Ib({type:ot,selectors:[["app-projects"]],decls:16,vars:6,consts:[[1,"card-container"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],["class","btn btn-success float-right",3,"click",4,"ngIf"],["style","margin: 5px;",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"btn","btn-success","float-right",3,"click"],[2,"margin","5px"],[1,"example-card"],["mat-card-avatar","","matTooltip","View Project Tickets",1,"example-header-image",3,"routerLink"],[3,"matTooltip","routerLink"],[3,"matTooltip"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click",4,"ngIf"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click",4,"ngIf"],["matTooltip","Project Info","md-list-icon","",3,"click"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click"],[2,"text-align","center"],[1,"info-text","mat-body-1"],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"mat-card"),d.Ub(2,"form",1),d.Ub(3,"mat-form-field",2),d.Ub(4,"input",3,4),d.cc("ngModelChange",(function(t){return e.search=t}))("keyup",(function(){return e.onSearch()})),d.Tb(),d.Tb(),d.Ub(6,"mat-icon",5),d.Ic(7,"search"),d.Tb(),d.Gc(8,Q,2,0,"button",6),d.Tb(),d.Tb(),d.Tb(),d.Pb(9,"br"),d.Pb(10,"br"),d.Ub(11,"div",0),d.Gc(12,et,13,12,"div",7),d.Gc(13,nt,3,0,"div",8),d.Gc(14,at,1,0,"mat-progress-spinner",9),d.Gc(15,it,1,3,"mat-paginator",10),d.Tb()),2&t&&(d.Cb(4),d.oc("ngModel",e.search),d.Cb(4),d.oc("ngIf",3!=e.userData.role),d.Cb(4),d.oc("ngForOf",e.projects),d.Cb(1),d.oc("ngIf",e.projects.length<=0&&!e.isLoading),d.Cb(1),d.oc("ngIf",e.isLoading),d.Cb(1),d.oc("ngIf",e.projects.length>0))},directives:[K.a,c.v,c.n,c.o,C.b,_.b,c.b,c.m,c.p,I.a,i.l,i.k,K.d,K.c,Y.a,r.c,K.h,K.g,K.b,H.a,W.a],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}.example-card[_ngcontent-%COMP%]{width:100%;margin:15px}.example-card[_ngcontent-%COMP%]:hover{width:100%;background-color:#a09d9d}.example-header-image[_ngcontent-%COMP%]{background-image:url(/assets/proj.jpg);background-size:cover}mat-card-subtitle[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{white-space:nowrap;width:105px;overflow:hidden;text-overflow:ellipsis}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c!important}.mat-card[_ngcontent-%COMP%]{background:#fff;width:100%;color:#f89b46;height:90px;min-width:100%}mat-icon[_ngcontent-%COMP%]{margin:9px}"]}),ot),st=u.a.apiUrl+"/tickets",lt=u.a.apiUrl+"/tasks",bt=((ct=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getTicketsByProjectId",value:function(t,e,n,a){var i="?pagesize=".concat(t,"&page=").concat(e);return n&&(i+="&search=".concat(n)),this.http.get(st+"/gettickets/"+a+i)}},{key:"getTickets",value:function(t,e,n){var a="?pagesize=".concat(t,"&page=").concat(e);return n&&(a+="&search=".concat(n)),this.http.get(st+"/gettickets"+a)}},{key:"getUserData",value:function(){return this.authService.getUserData()}},{key:"addTicket",value:function(t,e){var n={ticket_name:t.ticket_name,ticket_desc:t.ticket_desc,ticket_priority:t.ticket_priority,projectId:e,userId:this.authService.getUserId()};return this.http.post(st+"/create",n)}},{key:"getTicketById",value:function(t){return this.http.get(st+"/"+t)}},{key:"updateTicket",value:function(t,e){console.log(t);var n={id:t._id,ticket_name:t.ticket_name,ticket_desc:e.ticket_desc,projectId:t.projectId._id,userId:this.authService.getUserId()};return this.http.put(st+"/"+t._id,n)}},{key:"updateTicketStatus",value:function(t){console.log(t);var e={id:t.id,status:t.status,ticket_priority:t.ticket_priority,userId:this.authService.getUserId()};return this.http.put(st+"/updatestatus/"+t.id,e)}},{key:"deleteTicket",value:function(t){return this.http.delete(st+"/"+t)}},{key:"getTicketTages",value:function(t){return this.http.get(lt+"/gettasktages/"+t)}}]),t}()).\u0275fac=function(t){return new(t||ct)(d.Yb(p.b),d.Yb(r.b),d.Yb(f.a))},ct.\u0275prov=d.Kb({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct),dt=n("d3UM");function mt(t,e){1&t&&(d.Ub(0,"h1",16),d.Ic(1,"Edit Ticket"),d.Tb())}function gt(t,e){1&t&&(d.Ub(0,"h1",16),d.Ic(1,"Create New Ticket"),d.Tb())}function ut(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Enter Project Name."),d.Tb())}function pt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Enter Project Description."),d.Tb())}function ft(t,e){if(1&t&&(d.Ub(0,"mat-option",17),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(1),d.Kc(" ",n," ")}}function ht(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Select Ticket Priority."),d.Tb())}var vt,kt=((vt=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.ticketsService=e,this.dialogRef=n,this.route=a,this.router=i,this.dialog=o,this.isLoading=!0,this.ticket=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.ticket_priority=["High","Medium","Low"],this.data=c,this.ticket={_id:"",ticket_name:"",ticket_desc:"",projectId:{},ticket_priority:""}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.data.id&&"edit"==this.data.mode?this.ticketsService.getTicketById(this.data.id).subscribe((function(e){t.isLoading=!1,t.isEdit=!0,t.mode="edit",t.ticket={_id:e.data[0]._id,ticket_name:e.data[0].ticket_name,ticket_desc:e.data[0].ticket_desc,projectId:e.data[0].projectId,ticket_priority:e.data[0].ticket_priority}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(t){var e=this;t.invalid||("create"===this.mode?this.ticketsService.addTicket(t.value,this.data.pid).subscribe((function(t){e.dialogRef.close()}),(function(t){console.log(t)})):this.ticketsService.updateTicket(this.ticket,t.value).subscribe((function(t){e.dialogRef.close()}),(function(t){console.log(t)})))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||vt)(d.Ob(bt),d.Ob(s.h),d.Ob(r.a),d.Ob(r.b),d.Ob(s.b),d.Ob(s.a))},vt.\u0275cmp=d.Ib({type:vt,selectors:[["app-create-ticket"]],decls:31,vars:11,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["ticketForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","ticket_name","type","text","placeholder","ticket Name","required","",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","ticket_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["name","ticket_priority","placeholder","Select Priority","required","",3,"ngModel","ngModelChange"],["ticketInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[3,"value"]],template:function(t,e){if(1&t){var n=d.Vb();d.Gc(0,mt,2,0,"h1",0),d.Gc(1,gt,2,0,"h1",0),d.Ub(2,"form",1,2),d.cc("submit",(function(){d.zc(n);var t=d.wc(3);return e.onSave(t)})),d.Ub(4,"div",3),d.Ub(5,"mat-form-field",4),d.Ub(6,"mat-label"),d.Ic(7,"Ticket"),d.Tb(),d.Ub(8,"input",5,6),d.cc("ngModelChange",(function(t){return e.ticket.ticket_name=t})),d.Tb(),d.Gc(10,ut,2,0,"mat-error",7),d.Tb(),d.Ub(11,"mat-form-field",4),d.Ub(12,"mat-label"),d.Ic(13,"Description"),d.Tb(),d.Ub(14,"textarea",8,9),d.cc("ngModelChange",(function(t){return e.ticket.ticket_desc=t})),d.Ic(16),d.Tb(),d.Gc(17,pt,2,0,"mat-error",7),d.Tb(),d.Ub(18,"mat-form-field",4),d.Ub(19,"mat-label"),d.Ic(20,"Ticket Priority"),d.Tb(),d.Ub(21,"mat-select",10,11),d.cc("ngModelChange",(function(t){return e.ticket.ticket_priority=t})),d.Gc(23,ft,2,2,"mat-option",12),d.Tb(),d.Gc(24,ht,2,0,"mat-error",7),d.Tb(),d.Tb(),d.Ub(25,"div",13),d.Ub(26,"button",14),d.cc("click",(function(){return e.close()})),d.Ic(27,"Close"),d.Tb(),d.Ic(28,"\xa0 "),d.Ub(29,"button",15),d.Ic(30,"Save"),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.wc(3),i=d.wc(9),o=d.wc(15),c=d.wc(22);d.oc("ngIf","edit"==e.mode),d.Cb(1),d.oc("ngIf","create"==e.mode),d.Cb(7),d.oc("ngModel",e.ticket.ticket_name),d.Cb(2),d.oc("ngIf",i.hasError("required")),d.Cb(4),d.oc("ngModel",e.ticket.ticket_desc),d.Cb(2),d.Jc(e.ticket.ticket_desc),d.Cb(1),d.oc("ngIf",o.hasError("required")),d.Cb(4),d.oc("ngModel",e.ticket.ticket_priority),d.Cb(2),d.oc("ngForOf",e.ticket_priority),d.Cb(1),d.oc("ngIf",c.hasError("required")),d.Cb(5),d.oc("disabled",a.invalid)}},directives:[i.l,c.v,c.n,c.o,s.f,C.b,C.f,_.b,c.b,c.t,c.m,c.p,dt.a,i.k,U.b,s.d,s.i,C.a,O.n],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),vt);function Ct(t,e){if(1&t&&(d.Ub(0,"mat-chip"),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.Cb(1),d.Lc(" ",n.first_name," ",n.last_name," ")}}function _t(t,e){if(1&t&&(d.Ub(0,"div",9),d.Ub(1,"div",10),d.Ub(2,"mat-icon",11),d.Ic(3,"group"),d.Tb(),d.Ub(4,"mat-label"),d.Ic(5,"Assigned Users"),d.Tb(),d.Pb(6,"br"),d.Tb(),d.Ub(7,"div",10),d.Ub(8,"mat-chip-list",null,12),d.Gc(10,Ct,2,2,"mat-chip",13),d.Tb(),d.Tb(),d.Tb()),2&t){var n=d.gc(2);d.Cb(10),d.oc("ngForOf",n.ticket.projectId.assignedUsers)}}function Tt(t,e){if(1&t&&(d.Ub(0,"div",4),d.Ub(1,"mat-form-field",5),d.Ub(2,"mat-label"),d.Ic(3,"Project Name"),d.Tb(),d.Pb(4,"input",6),d.Tb(),d.Ub(5,"mat-form-field",5),d.Ub(6,"mat-label"),d.Ic(7,"Project Description"),d.Tb(),d.Ub(8,"textarea",7),d.Ic(9),d.Tb(),d.Tb(),d.Gc(10,_t,11,1,"div",8),d.Pb(11,"br"),d.Ub(12,"mat-form-field",5),d.Ub(13,"mat-label"),d.Ic(14,"Ticket Priority"),d.Tb(),d.Pb(15,"input",6),d.Tb(),d.Ub(16,"mat-form-field",5),d.Ub(17,"mat-label"),d.Ic(18,"Created By"),d.Tb(),d.Pb(19,"input",6),d.Tb(),d.Ub(20,"mat-form-field",5),d.Ub(21,"mat-label"),d.Ic(22,"Email"),d.Tb(),d.Pb(23,"input",6),d.Tb(),d.Ub(24,"mat-form-field",5),d.Ub(25,"mat-label"),d.Ic(26,"updated By"),d.Tb(),d.Pb(27,"input",6),d.Tb(),d.Ub(28,"mat-form-field",5),d.Ub(29,"mat-label"),d.Ic(30,"Created At"),d.Tb(),d.Pb(31,"input",6),d.hc(32,"date"),d.Tb(),d.Ub(33,"mat-form-field",5),d.Ub(34,"mat-label"),d.Ic(35,"Updated At"),d.Tb(),d.Pb(36,"input",6),d.hc(37,"date"),d.Tb(),d.Ub(38,"mat-form-field",5),d.Ub(39,"mat-label"),d.Ic(40,"Status"),d.Tb(),d.Pb(41,"input",6),d.Tb(),d.Tb()),2&t){var n=d.gc();d.Cb(4),d.pc("value",n.ticket.ticket_name),d.Cb(5),d.Jc(n.ticket.ticket_desc),d.Cb(1),d.oc("ngIf",n.ticket.projectId.assignedUsers.length>0),d.Cb(5),d.pc("value",n.ticket.ticket_priority),d.Cb(4),d.rc("value","",n.ticket.userId.first_name," ",n.ticket.userId.last_name,""),d.Cb(4),d.pc("value",n.ticket.userId.email),d.Cb(4),d.rc("value","",n.ticket.updatedBy.first_name," ",n.ticket.userId.last_name,""),d.Cb(4),d.pc("value",d.ic(32,12,n.ticket.createdAt)),d.Cb(5),d.pc("value",d.ic(37,14,n.ticket.updatedAt)),d.Cb(5),d.pc("value",n.ticket.status)}}var Ut,It,Pt,Ot=((Ut=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.ticketsService=e,this.route=n,this.dialogRef=a,this.router=i,this.dialog=o,this.isLoading=!0,this.ticket=[],this.data=[],this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.data=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.ticketsService.getTicketById(this.data.id).subscribe((function(e){t.isLoading=!1,t.ticket=e.data[0]}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Ut)(d.Ob(bt),d.Ob(r.a),d.Ob(s.h),d.Ob(r.b),d.Ob(s.b),d.Ob(s.a))},Ut.\u0275cmp=d.Ib({type:Ut,selectors:[["app-ticket-info"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["class","font","mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","","type","text","readonly",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],["md-list-icon",""],["chipList",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.Ub(0,"div"),d.Ub(1,"h2",0),d.Ic(2,"Project Info"),d.Tb(),d.Tb(),d.Gc(3,Tt,42,16,"div",1),d.Ub(4,"div",2),d.Ub(5,"button",3),d.cc("click",(function(){return e.close()})),d.Ic(6,"Close"),d.Tb(),d.Ic(7,"\xa0 "),d.Tb()),2&t&&(d.Cb(3),d.oc("ngIf",!e.isLoading))},directives:[s.i,i.l,s.c,U.b,s.f,C.b,C.f,_.b,I.a,P.b,i.k,P.a],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Ut),xt=u.a.apiUrl+"/comments",yt=((It=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getCommentsByTicketId",value:function(t,e,n,a){var i="?pagesize=".concat(t,"&page=").concat(e);return n&&(i+="&search=".concat(n)),this.http.get(xt+"/getcomments/"+a+i)}},{key:"getUserId",value:function(){return this.authService.getUserId()}},{key:"addComment",value:function(t){var e=new FormData;return e.append("file",t.file),e.append("filename",t.filename),e.append("comment",t.comment),e.append("projectId",t.pid),e.append("ticketId",t.tid),e.append("userId",this.authService.getUserId()),e.append("fileType",t.fileType),console.log(t),this.http.post(xt+"/create",e)}},{key:"getCommentById",value:function(t){return this.http.get(xt+"/"+t)}},{key:"updateComment",value:function(t,e,n){return console.log(t),this.http.put(xt+"/"+t._id,{id:t._id,ticket_name:t.ticket_name,ticket_desc:e.ticket_desc,projectId:t.projectId._id,ticket_priority:e.ticket_priority,userId:n})}},{key:"deleteFile",value:function(t,e){return this.http.put(xt+"/deletefile/"+t,{id:t,file_url:e})}},{key:"deleteComment",value:function(t){return this.http.delete(xt+"/"+t)}}]),t}()).\u0275fac=function(t){return new(t||It)(d.Yb(p.b),d.Yb(r.b),d.Yb(f.a))},It.\u0275prov=d.Kb({token:It,factory:It.\u0275fac,providedIn:"root"}),It),Mt=u.a.apiUrl+"/tasks",wt=((Pt=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getTaskByTicketId",value:function(t,e,n,a,i){var o="?pagesize=".concat(t,"&page=").concat(e);return n&&(o+="&search=".concat(n)),i.userId&&null!=i.userId&&(o+="&userId=".concat(i.userId)),i.filter&&(o+="&filter=".concat(i.filter)),i.tage&&(o+="&tage=".concat(i.tage)),this.http.get(Mt+"/gettasks/"+a+o)}},{key:"getUserId",value:function(){return this.authService.getUserId()}},{key:"addTask",value:function(t){var e={task_name:t.task_name,tags:t.tags,task_desc:t.task_desc,start_date:t.start_date,end_date:t.end_date,assignedUsers:t.assignedUsers,projectId:t.pid,ticketId:t.tid,userId:this.authService.getUserId()};return this.http.post(Mt+"/create",e)}},{key:"getTaskById",value:function(t){return this.http.get(Mt+"/"+t)}},{key:"updateTaskStatus",value:function(t){return t.userId=this.authService.getUserId(),this.http.put(Mt+"/updatestatus/"+t.id,t)}},{key:"moveTasktoTicket",value:function(t,e){console.log(t,e);var n={id:t._id,ticketId:e.ticketId._id,userId:this.authService.getUserId()};return this.http.put(Mt+"/movetask/"+t._id,n)}},{key:"updateTask",value:function(t){return this.http.put(Mt+"/"+t._id,t)}},{key:"deleteTask",value:function(t){return this.http.delete(Mt+"/"+t)}}]),t}()).\u0275fac=function(t){return new(t||Pt)(d.Yb(p.b),d.Yb(r.b),d.Yb(f.a))},Pt.\u0275prov=d.Kb({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt),jt=n("ihCf"),St=n("iadO"),zt=["assigneeInput"],Ft=["auto"];function Dt(t,e){if(1&t&&(d.Ub(0,"mat-option",13,14),d.Ic(2),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(2),d.Kc(" ",n.ticket_name," ")}}function Gt(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div"),d.Ub(2,"mat-icon",1),d.cc("click",(function(){return d.zc(n),d.gc().viewPage()})),d.Ic(3,"info"),d.Tb(),d.Tb(),d.Pb(4,"br"),d.Pb(5,"br"),d.Ub(6,"div"),d.Ub(7,"div"),d.Ub(8,"h2"),d.Ic(9,"Move Task to Other"),d.Tb(),d.Tb(),d.Ub(10,"form",2,3),d.cc("submit",(function(){d.zc(n);var t=d.wc(11);return d.gc().moveTask(t)})),d.Ub(12,"mat-form-field",4),d.Ub(13,"mat-label"),d.Ic(14,"Search Ticks"),d.Tb(),d.Ub(15,"input",5,6),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().ticketId=t}))("keyup",(function(){d.zc(n);var t=d.wc(16);return d.gc().searchTickets(t.value)})),d.Tb(),d.Ub(17,"mat-autocomplete",7,8),d.Gc(19,Dt,3,2,"mat-option",9),d.Tb(),d.Tb(),d.Ub(20,"div",10),d.Ub(21,"a",11),d.cc("click",(function(){return d.zc(n),d.gc().close()})),d.Ic(22,"close"),d.Tb(),d.Ub(23,"button",12),d.Ic(24,"Move"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.wc(11),i=d.wc(18),o=d.gc();d.Cb(15),d.oc("ngModel",o.ticketId)("matAutocomplete",i),d.Cb(2),d.oc("displayWith",o.displayFn1),d.Cb(2),d.oc("ngForOf",o.tickets),d.Cb(4),d.oc("disabled",a.invalid)}}function Lt(t,e){1&t&&(d.Ub(0,"h1"),d.Ic(1,"Edit Task"),d.Tb())}function At(t,e){1&t&&(d.Ub(0,"h1"),d.Ic(1,"New Task"),d.Tb())}function Bt(t,e){if(1&t&&(d.Ub(0,"span",43),d.Ic(1),d.Tb()),2&t){var n=d.gc(3);d.Cb(1),d.Lc(" (+",n.selectedTage.length-1," ",2===(null==n.selectedTage?null:n.selectedTage.length)?"other":"others",") ")}}function Et(t,e){if(1&t&&(d.Ub(0,"mat-select-trigger"),d.Ic(1),d.Gc(2,Bt,2,2,"span",42),d.Tb()),2&t){var n=d.gc(2);d.Cb(1),d.Kc(" ",n.selectedTage?n.selectedTage[0].name:""," "),d.Cb(1),d.oc("ngIf",(null==n.selectedTage?null:n.selectedTage.length)>1)}}function $t(t,e){if(1&t&&(d.Ub(0,"mat-option",13),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(1),d.Jc(n.name)}}function Rt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Enter Task Title."),d.Tb())}function Nt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Select Start Date."),d.Tb())}function Vt(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Please Select Due Date."),d.Tb())}function qt(t,e){1&t&&(d.Ub(0,"mat-icon",51),d.Ic(1,"cancel"),d.Tb())}function Jt(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-chip",48),d.cc("removed",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).remove(t)})),d.Ub(1,"a",49),d.Ic(2),d.Tb(),d.Gc(3,qt,2,0,"mat-icon",50),d.Tb()}if(2&t){var a=e.$implicit,i=d.gc(3);d.rc("matTooltip","",a.first_name," ",a.last_name,""),d.oc("selectable",i.selectable)("removable",i.removable),d.Cb(2),d.Lc("",a.first_name," ",a.last_name,""),d.Cb(1),d.oc("ngIf",i.removable)}}function Kt(t,e){if(1&t&&(d.Ub(0,"div",44),d.Ub(1,"div",16),d.Ub(2,"mat-icon",45),d.Ic(3,"group"),d.Tb(),d.Ub(4,"mat-label"),d.Ic(5,"Assigned Users"),d.Tb(),d.Pb(6,"br"),d.Tb(),d.Ub(7,"div",16),d.Ub(8,"mat-chip-list",null,46),d.Gc(10,Jt,4,7,"mat-chip",47),d.Tb(),d.Tb(),d.Tb()),2&t){var n=d.gc(2);d.Cb(10),d.oc("ngForOf",n.assignedUsers)}}function Yt(t,e){if(1&t&&(d.Ub(0,"mat-option",13,14),d.Ic(2),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(2),d.Lc(" ",n.first_name," ",n.last_name," ")}}function Ht(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Enter Task Note."),d.Tb())}function Wt(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",15),d.Ub(2,"div",16),d.Ub(3,"div",17),d.Gc(4,Lt,2,0,"h1",0),d.Gc(5,At,2,0,"h1",0),d.Tb(),d.Ub(6,"div",17),d.Ub(7,"mat-form-field",18),d.Ub(8,"mat-label"),d.Ic(9,"Tages"),d.Tb(),d.Ub(10,"mat-select",19,20),d.cc("valueChange",(function(t){return d.zc(n),d.gc().selectedTage=t})),d.Gc(12,Et,3,2,"mat-select-trigger",0),d.Gc(13,$t,2,2,"mat-option",9),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(14,"form",2,21),d.cc("submit",(function(){d.zc(n);var t=d.wc(15);return d.gc().onCreate(t)})),d.Ub(16,"div",22),d.Ub(17,"mat-form-field",23),d.Ub(18,"mat-label"),d.Ic(19,"Title"),d.Tb(),d.Ub(20,"textarea",24,25),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().task.task_name=t})),d.Ic(22),d.Tb(),d.Gc(23,Rt,2,0,"mat-error",0),d.Tb(),d.Ub(24,"div",16),d.Ub(25,"div",17),d.Ub(26,"mat-form-field",23),d.Ub(27,"mat-label"),d.Ic(28,"Start Date"),d.Tb(),d.Ub(29,"input",26,27),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().task.start_date=t})),d.Tb(),d.Pb(31,"mat-datepicker-toggle",28),d.Pb(32,"mat-datepicker",29,30),d.Gc(34,Nt,2,0,"mat-error",0),d.Tb(),d.Tb(),d.Ub(35,"div",17),d.Ub(36,"mat-form-field",23),d.Ub(37,"mat-label"),d.Ic(38,"Due Date"),d.Tb(),d.Ub(39,"input",31,32),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().task.end_date=t})),d.Tb(),d.Pb(41,"mat-datepicker-toggle",28),d.Pb(42,"mat-datepicker",29,33),d.Gc(44,Vt,2,0,"mat-error",0),d.Tb(),d.Tb(),d.Tb(),d.Gc(45,Kt,11,1,"div",34),d.Pb(46,"br"),d.Ub(47,"mat-form-field",35),d.Ub(48,"mat-label"),d.Ic(49,"Assign Users"),d.Tb(),d.Ub(50,"input",36,37),d.cc("keyup",(function(){d.zc(n);var t=d.wc(51);return d.gc().searchUsers(t.value)})),d.Tb(),d.Ub(53,"mat-autocomplete",38,8),d.cc("optionSelected",(function(t){return d.zc(n),d.gc().onSelection(t)})),d.Gc(55,Yt,3,3,"mat-option",9),d.Tb(),d.Tb(),d.Ub(56,"mat-form-field",23),d.Ub(57,"mat-label"),d.Ic(58,"Note"),d.Tb(),d.Ub(59,"textarea",39,40),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc().task.task_desc=t})),d.Ic(61),d.Tb(),d.Gc(62,Ht,2,0,"mat-error",0),d.Tb(),d.Tb(),d.Ub(63,"div",10),d.Ub(64,"button",41),d.cc("click",(function(){return d.zc(n),d.gc().close()})),d.Ic(65,"Close"),d.Tb(),d.Ic(66,"\xa0 "),d.Ub(67,"button",12),d.Ic(68,"Save"),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.wc(15),i=d.wc(21),o=d.wc(30),c=d.wc(33),r=d.wc(40),s=d.wc(43),l=d.wc(54),b=d.wc(60),m=d.gc();d.Cb(4),d.oc("ngIf","update"==m.data.mode),d.Cb(1),d.oc("ngIf","add"==m.data.mode),d.Cb(5),d.oc("value",m.selectedTage)("compareWith",m.comparer),d.Cb(2),d.oc("ngIf",m.selectedTage&&m.selectedTage.length>0),d.Cb(1),d.oc("ngForOf",m.tags),d.Cb(7),d.oc("ngModel",m.task.task_name),d.Cb(2),d.Jc(m.task.task_name),d.Cb(1),d.oc("ngIf",i.hasError("required")),d.Cb(6),d.oc("min",m.minDate)("max",m.maxDate)("matDatepicker",c)("ngModel",m.task.start_date),d.Cb(2),d.oc("for",c),d.Cb(3),d.oc("ngIf",o.hasError("required")),d.Cb(5),d.oc("min",m.minDate)("max",m.maxDate)("matDatepicker",s)("ngModel",m.task.end_date),d.Cb(2),d.oc("for",s),d.Cb(3),d.oc("ngIf",r.hasError("required")),d.Cb(1),d.oc("ngIf",m.assignedUsers.length>0),d.Cb(5),d.oc("matAutocomplete",l)("formControl",m.fruitCtrl),d.Cb(3),d.oc("displayWith",m.displayFn),d.Cb(2),d.oc("ngForOf",m.searchUser),d.Cb(4),d.oc("ngModel",m.task.task_desc),d.Cb(2),d.Jc(m.task.task_desc),d.Cb(1),d.oc("ngIf",b.hasError("required")),d.Cb(5),d.oc("disabled",a.invalid)}}var Qt,Xt=((Qt=function(){function t(e,n,a,i,o,r,s,l){_classCallCheck(this,t),this.ticketsService=e,this.commentService=n,this.projectsService=a,this.taskService=i,this._snackBar=o,this.dialogRef=r,this.dialog=s,this.data=[],this.toppings=new c.d,this.tickets=[],this.sankBardata={},this.fruitCtrl=new c.d,this.searchUser=[],this.assignedUsers=[],this.task={},this.tags=[{color:"#49b560",name:"Frontend"},{color:"#f44336",name:"Backend"},{color:"#ffb300",name:"API"},{color:"#0729ca",name:"Issue"},{color:"#d700ff",name:"Mobile"},{color:"#009cb5",name:"future"},{color:"#000",name:"Other"}],this.taskList=["To Do","Inprogress","Done","Closed"],this.horizontalPos="right",this.verticalPos="top",this.selectable=!0,this.page=!0,this.removable=!0,this.selectedTage=[],this.data=l,this.task={_id:"",task_name:"",task_desc:"",assignedUsers:[],start_date:"",end_date:""},this.userId=this.commentService.getUserId(),this.viewpage="comments",console.log(this.data);var b=(new Date).getFullYear();this.minDate=new Date,this.maxDate=new Date(b+0,11,31),console.log(this.maxDate,this.minDate)}return _createClass(t,[{key:"ngOnInit",value:function(){this.data.task._id&&"update"==this.data.mode&&(this.task=this.data.task,this.selectedTage=this.data.task.tags,this.assignedUsers=this.data.task.assignedUsers)}},{key:"comparer",value:function(t,e){return t&&e?t.name===e.name:e==e}},{key:"searchTickets",value:function(t){var e=this;t&&this.ticketsService.getTicketsByProjectId(0,1,t,this.data.task.projectId._id).subscribe((function(t){e.tickets=t.data}))}},{key:"searchUsers",value:function(t){if(t){var e=this.data.task.projectId.assignedUsers.filter((function(e){return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)}));console.log(e),this.searchUser=e}}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Task.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"displayFn1",value:function(t){return t?t.ticket_name:""}},{key:"selected",value:function(t){this.assignedUsers.push(t.option.viewValue),this.assignedUsers.nativeElement.value="",this.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.assignedUsers.indexOf(t);e>=0&&this.assignedUsers.splice(e,1)}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}},{key:"onCreate",value:function(t){var e=this;if(!t.invalid)if(console.log(this.selectedTage),"update"==this.data.mode)this.data.task.assignedUsers=this.assignedUsers,this.data.task.tags=this.selectedTage,this.taskService.updateTask(this.data.task).subscribe((function(t){e.sankBardata.message="Task Updated.",e.openSnakBar(),e.dialogRef.close()}));else{console.log(t.value,this.toppings.value);var n={};n.task_name=t.value.task_name,n.task_desc=t.value.task_desc,n.tags=this.selectedTage,n.start_date=t.value.start_date,n.end_date=t.value.end_date,n.assignedUsers=this.assignedUsers,n.pid=this.data.task.projectId._id,n.tid=this.data.task._id,this.taskService.addTask(n).subscribe((function(t){e.sankBardata.message="Task Created.",e.openSnakBar(),e.dialogRef.close()}))}}},{key:"moveTask",value:function(t){var e=this;t.invalid||(console.log(this.data.task),this.taskService.moveTasktoTicket(this.data.task,t.value).subscribe((function(t){e.sankBardata.message="Task Updated.",e.openSnakBar(),e.dialogRef.close()})))}},{key:"viewPage",value:function(){this.page=!this.page}},{key:"onChangeStatus",value:function(t,e){var n=this;console.log(t,e),t.status=e,t.assignedUsers=this.assignedUsers,this.taskService.updateTaskStatus(t).subscribe((function(t){n.sankBardata.message="Task Updated.",n.openSnakBar(),n.dialogRef.close()}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Qt)(d.Ob(bt),d.Ob(yt),d.Ob(k),d.Ob(wt),d.Ob(b.a),d.Ob(s.h),d.Ob(s.b),d.Ob(s.a))},Qt.\u0275cmp=d.Ib({type:Qt,selectors:[["app-common-popup"]],viewQuery:function(t,e){var n;1&t&&(d.Nc(zt,!0),d.Nc(Ft,!0)),2&t&&(d.vc(n=d.dc())&&(e.assigneeInput=n.first),d.vc(n=d.dc())&&(e.matAutocomplete=n.first))},decls:2,vars:2,consts:[[4,"ngIf"],["matTooltip","Move Task",2,"float","right",3,"click"],[3,"submit"],["moveTaskForm","ngForm"],["appearance","outline",1,"status_cus",2,"height","1px","top","-20px"],["type","text","name","ticketId","matInput","","placeholder","Serach Tickets...","required","",3,"ngModel","matAutocomplete","ngModelChange","keyup"],["assigneeInput",""],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"],["datae",""],["mat-dialog-title",""],[1,"row"],[1,"col-md-6"],["appearance","outline",2,"font-size","11px","width","49%","float","right"],["name","tags","placeholder","Choose tags","multiple","",3,"value","compareWith","valueChange"],["toppings",""],["createTaskForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","name","task_name","type","text","placeholder","Task Title","required","",3,"ngModel","ngModelChange"],["nameInput","ngModel"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select Due Date","required","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["edataInput","ngModel"],["picker1",""],["class","container",4,"ngIf"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","New User...",3,"matAutocomplete","formControl","keyup"],["assigneeInput","","assigneeInput",""],[3,"displayWith","optionSelected"],["matInput","","name","task_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["class","example-additional-selection",4,"ngIf"],[1,"example-additional-selection"],[1,"container"],["md-list-icon",""],["chipList",""],[3,"matTooltip","selectable","removable","removed",4,"ngFor","ngForOf"],[3,"matTooltip","selectable","removable","removed"],[1,"formate_chip"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(t,e){1&t&&(d.Gc(0,Gt,25,5,"div",0),d.Gc(1,Wt,69,30,"div",0)),2&t&&(d.oc("ngIf","info"==e.data.mode),d.Cb(1),d.oc("ngIf","add"==e.data.mode||"update"==e.data.mode))},directives:[i.l,I.a,Y.a,c.v,c.n,c.o,C.b,C.f,_.b,c.b,T.c,c.t,c.m,c.p,T.a,i.k,U.a,U.b,O.n,s.i,dt.a,s.f,jt.b,St.b,St.d,C.g,St.a,c.e,s.d,dt.c,C.a,P.b,P.a,P.c],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Qt),Zt=n("MutI"),te=n("STbY"),ee=["assigneeInput"],ne=["auto"];function ae(t,e){1&t&&d.Pb(0,"mat-progress-spinner",2)}function ie(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-chip",15),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(2).filter(t)})),d.Ub(1,"a",16),d.Ic(2),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit;d.rc("matTooltip","",a.first_name," ",a.last_name,""),d.Cb(2),d.Lc("",a.first_name," ",a.last_name,"")}}function oe(t,e){1&t&&(d.Ub(0,"mat-icon",19),d.Ic(1,"cancel"),d.Tb())}function ce(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-chip",17),d.cc("removed",(function(){return d.zc(n),d.gc(2).removeFilter()})),d.Ic(1,"clear "),d.Gc(2,oe,2,0,"mat-icon",18),d.Tb()}if(2&t){var a=d.gc(2);d.oc("selectable",a.selectable)("removable",a.removable),d.Cb(2),d.oc("ngIf",a.removable)}}function re(t,e){1&t&&(d.Ub(0,"mat-error"),d.Ic(1,"Write Your Comment..."),d.Tb())}function se(t,e){if(1&t&&(d.Ub(0,"div",42),d.Ub(1,"a"),d.Ic(2),d.Tb(),d.Tb()),2&t){var n=d.gc(3);d.pc("matTooltip",n.selectedFileName),d.Cb(2),d.Jc(n.selectedFileName)}}function le(t,e){1&t&&(d.Ub(0,"mat-progress-spinner",43),d.Ic(1,"Loading Comments..."),d.Tb())}function be(t,e){if(1&t&&(d.Ub(0,"div",47),d.Ub(1,"div",48),d.Ub(2,"span",49),d.Ic(3),d.Tb(),d.Ub(4,"p"),d.Ic(5),d.Tb(),d.Ub(6,"p"),d.Ub(7,"small"),d.Ic(8),d.hc(9,"date"),d.hc(10,"date"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){var n=d.gc().$implicit,a=d.gc(4);d.Cb(2),d.rc("matTooltip","",n.userId.first_name," ",n.userId.last_name,""),d.Cb(1),d.Jc(a.formateName(n.userId.first_name,n.userId.last_name)),d.Cb(2),d.Jc(n.comment),d.Cb(3),d.Lc("",d.jc(9,6,n.createdAt,"mediumDate")," at ",d.jc(10,9,n.createdAt,"shortTime"),"")}}function de(t,e){if(1&t&&(d.Ub(0,"a",54),d.Ub(1,"mat-icon",55),d.Ic(2,"attachment"),d.Tb(),d.Tb()),2&t){var n=d.gc(2).$implicit,a=d.gc(4);d.pc("matTooltip",n.file_url),d.rc("href","",a.host_ip,"/uploads/",n.file_url,"",d.Ac)}}function me(t,e){if(1&t&&(d.Ub(0,"div",50),d.Ub(1,"div",51),d.Ub(2,"span"),d.Ub(3,"p",52),d.Ic(4),d.Tb(),d.Tb(),d.Ub(5,"p"),d.Ic(6),d.Tb(),d.Ub(7,"p"),d.Gc(8,de,3,3,"a",53),d.Ub(9,"small"),d.Ic(10),d.hc(11,"date"),d.hc(12,"date"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&t){var n=d.gc().$implicit,a=d.gc(4);d.Cb(3),d.rc("matTooltip","",n.first_name," ",n.last_name,""),d.Cb(1),d.Jc(a.formateName(n.userId.first_name,n.userId.last_name)),d.Cb(2),d.Jc(n.comment),d.Cb(2),d.oc("ngIf",n.file_url),d.Cb(2),d.Lc("",d.jc(11,7,n.createdAt,"mediumDate")," at ",d.jc(12,10,n.createdAt,"shortTime"),"")}}function ge(t,e){if(1&t&&(d.Ub(0,"div"),d.Gc(1,be,11,12,"div",45),d.Gc(2,me,13,13,"div",46),d.Tb()),2&t){var n=e.$implicit,a=d.gc(4);d.Cb(1),d.oc("ngIf",a.userId!=n.userId._id),d.Cb(1),d.oc("ngIf",a.userId==n.userId._id)}}function ue(t,e){1&t&&(d.Ub(0,"div"),d.Ic(1,"No Comments Found..!"),d.Tb())}function pe(t,e){if(1&t&&(d.Ub(0,"div"),d.Gc(1,ge,3,2,"div",44),d.Gc(2,ue,2,0,"div",1),d.Tb()),2&t){var n=d.gc(3);d.Cb(1),d.oc("ngForOf",n.comments),d.Cb(1),d.oc("ngIf",n.comments.length<=0)}}function fe(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",20),d.Ub(2,"div",21),d.Ub(3,"mat-icon"),d.Ic(4,"notes"),d.Tb(),d.Ub(5,"mat-label",22),d.Ic(6,"Description"),d.Tb(),d.Tb(),d.Ub(7,"div",23),d.Ub(8,"div",24),d.Ub(9,"pre"),d.Ic(10),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(11,"div",25),d.Ub(12,"form",26,27),d.cc("submit",(function(){d.zc(n);var t=d.wc(13);return d.gc(2).onComment(t)})),d.Ub(14,"div",20),d.Ub(15,"div",28),d.Ub(16,"mat-form-field",29),d.Ub(17,"mat-label"),d.Ic(18,"Your Comment"),d.Tb(),d.Ub(19,"textarea",30,31),d.cc("ngModelChange",(function(t){return d.zc(n),d.gc(2).commentDataForm.comment=t})),d.Tb(),d.Ub(21,"mat-icon",32),d.Ic(22,"insert_comment"),d.Tb(),d.Gc(23,re,2,0,"mat-error",1),d.Tb(),d.Tb(),d.Ub(24,"div",33),d.Ub(25,"div"),d.Ub(26,"input",34,35),d.cc("change",(function(t){return d.zc(n),d.gc(2).selectFile(t)})),d.Tb(),d.Ub(28,"a",36),d.cc("click",(function(){return d.zc(n),d.wc(27).click()})),d.Ub(29,"mat-icon",37),d.Ic(30,"attachment"),d.Tb(),d.Tb(),d.Ub(31,"button",38),d.Ub(32,"mat-icon",39),d.Ic(33,"send"),d.Tb(),d.Tb(),d.Tb(),d.Pb(34,"br"),d.Gc(35,se,3,2,"div",40),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Gc(36,le,2,0,"mat-progress-spinner",41),d.Gc(37,pe,3,2,"div",1),d.Tb()}if(2&t){var a=d.wc(13),i=d.wc(20),o=d.gc(2);d.Cb(10),d.Kc("",o.ticket.ticket_desc," "),d.Cb(9),d.oc("ngModel",o.commentDataForm.comment),d.Cb(4),d.oc("ngIf",i.hasError("required")),d.Cb(8),d.oc("disabled",a.invalid),d.Cb(4),d.oc("ngIf",o.selectedFileName),d.Cb(1),d.oc("ngIf",o.isLoadingComments&&!o.isLoading),d.Cb(1),d.oc("ngIf",!o.isLoadingComments)}}function he(t,e){if(1&t&&(d.Ub(0,"p",68),d.Ic(1),d.Tb()),2&t){var n=d.gc(2).$implicit;d.Cb(1),d.Kc(" ",n.fileType," ")}}function ve(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",57),d.Ub(2,"a",58),d.Gc(3,he,2,1,"p",59),d.Tb(),d.Ub(4,"p",60),d.Ub(5,"span",61),d.Ic(6),d.Tb(),d.Ub(7,"a",62),d.Pb(8,"span",63),d.Tb(),d.Ub(9,"span",64),d.Ub(10,"span"),d.Ic(11,"Added on"),d.Ub(12,"span",65),d.Ic(13),d.hc(14,"date"),d.hc(15,"date"),d.Tb(),d.Tb(),d.Ub(16,"span"),d.Ub(17,"a",66),d.Ub(18,"span",67),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc(3).deleteAttachment(t._id,t.file_url)})),d.Ic(19,"Delete"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.gc().$implicit,i=d.gc(3);d.Cb(2),d.Ec("background-image: url(",i.host_ip,"/uploads/",a.file_url,");background-color: #5a5857;"),d.rc("href","",i.host_ip,"/uploads/",a.file_url,"",d.Ac),d.pc("title",a.file_url),d.Cb(1),d.oc("ngIf","jpg"!=a.fileType&&"gif"!=a.fileType&&"png"!=a.fileType&&"jpeg"!=a.fileType),d.Cb(3),d.Jc(a.file_url),d.Cb(7),d.Lc(" ",d.jc(14,11,a.createdAt,"mediumDate")," at ",d.jc(15,14,a.createdAt,"shortTime"),"")}}function ke(t,e){if(1&t&&(d.Ub(0,"div",25),d.Gc(1,ve,20,17,"div",1),d.Tb()),2&t){var n=e.$implicit;d.Cb(1),d.oc("ngIf",n.fileType)}}function Ce(t,e){if(1&t&&(d.Ub(0,"div"),d.Pb(1,"br"),d.Gc(2,ke,2,1,"div",56),d.Tb()),2&t){var n=d.gc(2);d.Cb(2),d.oc("ngForOf",n.comments)}}var _e=function(t){return{active_tag:t}},Te=function(t){return{color:t}};function Ue(t,e){if(1&t){var n=d.Vb();d.Ub(0,"span",88),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).changeTage(t)})),d.Ic(1),d.Tb()}if(2&t){var a=e.$implicit,i=d.gc(3);d.oc("ngClass",d.tc(3,_e,i.selectionFilter===a.name))("ngStyle",d.tc(5,Te,a.color)),d.Cb(1),d.Jc(a.name)}}function Ie(t,e){1&t&&(d.Ub(0,"div",89),d.Ic(1,"No Tasks Found..!"),d.Tb())}function Pe(t,e){if(1&t&&(d.Ub(0,"span",106),d.Ic(1),d.Tb()),2&t){var n=e.$implicit,a=d.gc(4);d.rc("matTooltip","",n.first_name," ",n.last_name,""),d.Cb(1),d.Jc(a.formateName(n.first_name,n.last_name))}}function Oe(t,e){if(1&t&&(d.Ub(0,"a",109),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.oc("ngStyle",d.tc(2,Te,n.color)),d.Cb(1),d.Jc(n.name)}}function xe(t,e){if(1&t&&(d.Ub(0,"div",107),d.Gc(1,Oe,2,4,"a",108),d.Tb()),2&t){var n=d.gc().$implicit;d.Cb(1),d.oc("ngForOf",n.tags)}}function ye(t,e){if(1&t){var n=d.Vb();d.Ub(0,"button",105),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc(3).onChangeStatus(t,"status","Pending")})),d.Ub(1,"mat-icon"),d.Ic(2,"check_box"),d.Tb(),d.Ub(3,"span"),d.Ic(4,"Mark as undone"),d.Tb(),d.Tb()}}function Me(t,e){if(1&t){var n=d.Vb();d.Ub(0,"button",105),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc(3).onChangeStatus(t,"status","Done")})),d.Ub(1,"mat-icon"),d.Ic(2,"check_box_outline_blank"),d.Tb(),d.Ub(3,"span"),d.Ic(4,"Mark as Done"),d.Tb(),d.Tb()}}function we(t,e){1&t&&(d.Ub(0,"span"),d.Ic(1,"Remove Starred"),d.Tb())}function je(t,e){1&t&&(d.Ub(0,"span"),d.Ic(1,"Make as Starred"),d.Tb())}function Se(t,e){1&t&&(d.Ub(0,"span"),d.Ic(1,"Remove Priority"),d.Tb())}function ze(t,e){1&t&&(d.Ub(0,"span"),d.Ic(1,"Mark as Priority"),d.Tb())}function Fe(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-card",90),d.Ub(1,"div",91),d.Ub(2,"div",92),d.Ub(3,"p",93),d.Ic(4),d.Tb(),d.Ub(5,"div",94),d.Ic(6),d.Tb(),d.Ub(7,"div",95),d.Gc(8,Pe,2,3,"span",96),d.Ub(9,"span",97),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).openDialog(t,"update")})),d.Ub(10,"a",98),d.Ic(11,"+"),d.Tb(),d.Tb(),d.Gc(12,xe,2,1,"div",99),d.Tb(),d.Tb(),d.Ub(13,"div",100),d.Ub(14,"mat-icon",76),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).onChangeStatus(t,"priority",t.status)})),d.Ic(15,"error_outline"),d.Tb(),d.Ub(16,"mat-icon",73),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).onChangeStatus(t,"starred",t.status)})),d.Ic(17,"star_border"),d.Tb(),d.Ub(18,"button",101),d.Ub(19,"mat-icon"),d.Ic(20,"more_vert"),d.Tb(),d.Tb(),d.Ub(21,"mat-menu",102,103),d.Gc(23,ye,5,0,"button",104),d.Gc(24,Me,5,0,"button",104),d.Ub(25,"button",105),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).onChangeStatus(t,"starred",t.status)})),d.Ub(26,"mat-icon"),d.Ic(27,"star_border"),d.Tb(),d.Gc(28,we,2,0,"span",1),d.Gc(29,je,2,0,"span",1),d.Tb(),d.Ub(30,"button",105),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).onChangeStatus(t,"priority",t.status)})),d.Ub(31,"mat-icon"),d.Ic(32,"error_outline"),d.Tb(),d.Gc(33,Se,2,0,"span",1),d.Gc(34,ze,2,0,"span",1),d.Tb(),d.Ub(35,"button",105),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc(3).openDialog(t,"info")})),d.Ub(36,"mat-icon"),d.Ic(37,"assignment_late"),d.Tb(),d.Ub(38,"span"),d.Ic(39,"Move to Other"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit,i=d.wc(22);d.Cb(3),d.oc("ngClass","Done"==a.status?"task_done":" "),d.Cb(1),d.Kc(" ",a.task_name,""),d.Cb(1),d.oc("ngClass","Done"==a.status?"task_done":" "),d.Cb(1),d.Jc(a.task_desc),d.Cb(2),d.oc("ngForOf",a.assignedUsers),d.Cb(4),d.oc("ngIf",a.tags),d.Cb(2),d.oc("ngClass",a.task_priority?"priority_true":"priority_false"),d.Cb(2),d.oc("ngClass",a.starred?"starred_true":"starred_false"),d.Cb(2),d.oc("matMenuTriggerFor",i),d.Cb(5),d.oc("ngIf","Done"==a.status),d.Cb(1),d.oc("ngIf","Done"!=a.status),d.Cb(4),d.oc("ngIf",a.starred),d.Cb(1),d.oc("ngIf",!a.starred),d.Cb(4),d.oc("ngIf",a.task_priority),d.Cb(1),d.oc("ngIf",!a.task_priority)}}var De=function(t){return{active_filter:t}};function Ge(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div",null,69),d.Ub(2,"div",25),d.Ub(3,"div",20),d.Ub(4,"div",70),d.Ub(5,"div",71),d.Ub(6,"div",72),d.Ic(7,"FILTERS"),d.Tb(),d.Ub(8,"mat-nav-list"),d.Ub(9,"mat-list-item",73),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("all")})),d.Ub(10,"mat-icon"),d.Ic(11,"list"),d.Tb(),d.Pb(12,"div",74),d.Ub(13,"div",75),d.Ub(14,"span"),d.Ic(15,"All"),d.Tb(),d.Tb(),d.Tb(),d.Ub(16,"mat-list-item",73),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Starred")})),d.Ub(17,"mat-icon"),d.Ic(18,"star_border"),d.Tb(),d.Pb(19,"div",74),d.Ub(20,"div",75),d.Ub(21,"span"),d.Ic(22,"Starred"),d.Tb(),d.Tb(),d.Tb(),d.Ub(23,"mat-list-item",76),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Priority")})),d.Ub(24,"mat-icon"),d.Ic(25,"error"),d.Tb(),d.Pb(26,"div",74),d.Ub(27,"div",75),d.Ub(28,"span"),d.Ic(29,"Priority"),d.Tb(),d.Tb(),d.Tb(),d.Ub(30,"mat-list-item",77),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Sheduled")})),d.Ub(31,"mat-icon"),d.Ic(32,"schedule"),d.Tb(),d.Pb(33,"div",74),d.Ub(34,"div",75),d.Ub(35,"span"),d.Ic(36,"Sheduled"),d.Tb(),d.Tb(),d.Tb(),d.Ub(37,"mat-list-item",78),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Today")})),d.Ub(38,"mat-icon"),d.Ic(39,"today"),d.Tb(),d.Pb(40,"div",74),d.Ub(41,"div",75),d.Ub(42,"span"),d.Ic(43,"Today"),d.Tb(),d.Tb(),d.Tb(),d.Ub(44,"mat-list-item",79),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Done")})),d.Ub(45,"mat-icon"),d.Ic(46,"done"),d.Tb(),d.Pb(47,"div",74),d.Ub(48,"div",75),d.Ub(49,"span"),d.Ic(50,"Done"),d.Tb(),d.Tb(),d.Tb(),d.Ub(51,"mat-list-item",80),d.cc("click",(function(){return d.zc(n),d.gc(2).changeFilter("Deleted")})),d.Ub(52,"mat-icon"),d.Ic(53,"delete"),d.Tb(),d.Pb(54,"div",74),d.Ub(55,"div",75),d.Ub(56,"span"),d.Ic(57,"Deleted"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(58,"div",81),d.Ub(59,"div",82),d.Ub(60,"a"),d.Gc(61,Ue,2,7,"span",83),d.Tb(),d.Ub(62,"button",84),d.cc("click",(function(){d.zc(n);var t=d.gc(2);return t.openDialog(t.ticket,"add")})),d.Ub(63,"mat-icon"),d.Ic(64,"add"),d.Tb(),d.Tb(),d.Tb(),d.Ub(65,"div",85),d.Gc(66,Ie,2,0,"div",86),d.Gc(67,Fe,40,15,"mat-card",87),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=d.gc(2);d.Cb(9),d.oc("ngClass",d.tc(10,De,"all"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(12,De,"Starred"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(14,De,"Priority"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(16,De,"Sheduled"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(18,De,"Today"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(20,De,"Done"===a.selectionFilter)),d.Cb(7),d.oc("ngClass",d.tc(22,De,"Deleted"===a.selectionFilter)),d.Cb(10),d.oc("ngForOf",a.tags),d.Cb(5),d.oc("ngIf",a.tasks.length<=0),d.Cb(1),d.oc("ngForOf",a.tasks)}}var Le=function(t){return{tab_btn_active:t}};function Ae(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",3),d.Ub(2,"div"),d.Ub(3,"button",4),d.cc("click",(function(){return d.zc(n),d.gc().close()})),d.Ub(4,"mat-icon"),d.Ic(5,"close"),d.Tb(),d.Tb(),d.Tb(),d.Ub(6,"div",5),d.Ub(7,"mat-icon"),d.Ic(8,"subtitles"),d.Tb(),d.Ic(9),d.Tb(),d.Ub(10,"div",6),d.Ub(11,"div",7),d.Ub(12,"button",8),d.cc("click",(function(){return d.zc(n),d.gc().viewPage("comments")})),d.Ub(13,"mat-icon",9),d.Ic(14,"chat"),d.Tb(),d.Ic(15," Comments"),d.Tb(),d.Tb(),d.Ub(16,"div",7),d.Ub(17,"button",8),d.cc("click",(function(){return d.zc(n),d.gc().viewPage("attachments")})),d.Ub(18,"mat-icon",9),d.Ic(19,"attachment"),d.Tb(),d.Ic(20," Attachments"),d.Tb(),d.Tb(),d.Ub(21,"div",7),d.Ub(22,"button",8),d.cc("click",(function(){return d.zc(n),d.gc().viewPage("tasks")})),d.Ub(23,"mat-icon",9),d.Ic(24,"list"),d.Tb(),d.Ic(25," Tasks"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(26,"div",10),d.Ub(27,"div"),d.Ub(28,"mat-chip-list",null,11),d.Ub(30,"button",12),d.Ub(31,"mat-icon",9),d.Ic(32,"group"),d.Tb(),d.Tb(),d.Gc(33,ie,3,4,"mat-chip",13),d.Gc(34,ce,3,3,"mat-chip",14),d.Tb(),d.Tb(),d.Gc(35,fe,38,7,"div",1),d.Gc(36,Ce,3,1,"div",1),d.Gc(37,Ge,68,24,"div",1),d.Tb(),d.Tb()}if(2&t){var a=d.gc();d.Cb(9),d.Kc(" ",a.ticket.ticket_name," "),d.Cb(3),d.oc("ngClass",d.tc(9,Le,"comments"===a.viewpage)),d.Cb(5),d.oc("ngClass",d.tc(11,Le,"attachments"===a.viewpage)),d.Cb(5),d.oc("ngClass",d.tc(13,Le,"tasks"===a.viewpage)),d.Cb(11),d.oc("ngForOf",a.ticket.projectId.assignedUsers),d.Cb(1),d.oc("ngIf",a.clearFilter&&"tasks"==a.viewpage),d.Cb(1),d.oc("ngIf","comments"===a.viewpage),d.Cb(1),d.oc("ngIf","attachments"===a.viewpage),d.Cb(1),d.oc("ngIf","tasks"===a.viewpage)}}var Be,Ee=((Be=function(){function t(e,n,a,i,o,r,s,b){_classCallCheck(this,t),this.ticketsService=e,this.commentService=n,this.projectsService=a,this.taskService=i,this._snackBar=o,this.dialogRef=r,this.dialog=s,this.ticket=[],this.comments=[],this.tasks=[],this.data=[],this.viewpage="tasks",this.isLoading=!0,this.host_ip=u.a.ip,this.visible=!1,this.isEdit=!1,this.selectable=!0,this.removable=!0,this.selectionFilter="all",this.editable=!0,this.selectedFiles=[],this.attachment=[],this.editSingleTaskForm={task_name:"",assignedUsers:[],id:""},this.commentDataForm={comment:"",assignedUsers:[],id:""},this.separatorKeysCodes=[l.g,l.c],this.fruitCtrl=new c.d,this.isLoadingComments=!1,this.perPage=50,this.currentPage=1,this.Count=0,this.searchUser=[],this.assignedUsers=[],this.clearFilter=!1,this.sizeOptions=[10,20,50],this.sankBardata={},this.horizontalPos="right",this.verticalPos="top",this.taskList=["To Do","Inprogress","Done","Closed"],this.tags=[{color:"#49b560",name:"Frontend"},{color:"#f44336",name:"Backend"},{color:"#ffb300",name:"API"},{color:"#0729ca",name:"Issue"},{color:"#d700ff",name:"Mobile"},{color:"#009cb5",name:"future"},{color:"#000",name:"Other"}],this.data=b,this.userId=this.commentService.getUserId(),this.viewpage="comments"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.ticketsService.getTicketById(this.data.tid).subscribe((function(e){t.ticket=e.data[0],t.isLoading=!1,t.getComments()}))}},{key:"getComments",value:function(){var t=this;this.commentService.getCommentsByTicketId(this.perPage,this.currentPage,this.search,this.data.tid).subscribe((function(e){t.comments=e.data}))}},{key:"selectFile",value:function(t){this.selectedFiles=t.target.files[0],console.log(this.selectedFiles),this.selectedFileName=this.selectedFiles.name,this.fileType=this.selectedFiles.name.split(".")[1]}},{key:"deleteAttachment",value:function(t,e){var n=this;console.log(t,e),this.commentService.deleteFile(t,e).subscribe((function(t){n.comments=t.data,n.getComments()}))}},{key:"changeFilter",value:function(t){var e=this;this.selectionFilter=t,this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:t}).subscribe((function(t){e.tasks=t.data}))}},{key:"changeTage",value:function(t){var e=this;this.selectionFilter=t.name,this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:null,tage:t.name}).subscribe((function(t){e.tasks=t.data}))}},{key:"getTasks",value:function(){var t=this;this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:null,tage:null}).subscribe((function(e){t.tasks=e.data}))}},{key:"viewPage",value:function(t){this.viewpage=t,"comments"==t?this.getComments():"attachments"==t?this.getTasks():"tasks"==t&&this.getTasks()}},{key:"assignUsers",value:function(t){this.visible=!t}},{key:"onComment",value:function(t){var e=this,n={};n.comment=t.value.comment,n.pid=this.ticket.projectId._id,n.tid=this.ticket._id,n.file=this.selectedFiles,n.filename=this.selectedFiles.name,n.fileType=this.fileType,this.commentService.addComment(n).subscribe((function(n){e.selectedFileName="",e.selectedFiles=[],e.fileType="",e.getComments(),t.reset()}))}},{key:"searchUsers",value:function(t){if(t){var e=this.ticket.projectId.assignedUsers.filter((function(e){return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)}));console.log(e),this.searchUser=e}}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Task.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"selected",value:function(t){this.assignedUsers.push(t.option.viewValue),this.assignedUsers.nativeElement.value="",this.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.assignedUsers.indexOf(t);e>=0&&this.assignedUsers.splice(e,1)}},{key:"onCreateTask",value:function(t){var e=this;this.editSingleTaskForm.assignedUsers=this.assignedUsers,this.taskService.updateTask(this.editSingleTaskForm).subscribe((function(t){e.editSingleTaskForm={task_name:"",assignedUsers:[],id:""},e.assignedUsers=[],e.visible=!1,e.getTasks()}))}},{key:"close",value:function(){this.dialogRef.close()}},{key:"filter",value:function(t){var e=this;this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:t._id}).subscribe((function(t){e.tasks=t.data,e.clearFilter=!0}))}},{key:"removeFilter",value:function(){this.clearFilter=!1,this.getTasks()}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}},{key:"formateName",value:function(t,e){return t.charAt(0).toUpperCase()+e.charAt(0).toUpperCase()}},{key:"editTask",value:function(t){console.log(t),this.editSingleTaskForm=t,this.isEdit=!0}},{key:"onEdit",value:function(t,e){var n=this;console.log(t,e.target.innerText,"000000"),t.task_name=e.target.innerText,this.taskService.updateTask(t).subscribe((function(t){n.assignedUsers=[],n.sankBardata.message="Task Updated.",n.openSnakBar(),n.visible=!1,n.getTasks()}))}},{key:"onChangeStatus",value:function(t,e,n){var a=this,i={id:t._id};console.log(t,n,e),"priority"==e?(i.task_priority=!t.task_priority,i.status=t.status,i.starred=t.starred):"starred"==e?(i.starred=!t.starred,i.task_priority=t.task_priority,i.status=t.status):(i.starred=t.starred,i.status=n,i.task_priority=t.task_priority),this.taskService.updateTaskStatus(i).subscribe((function(t){a.getTasks()}))}},{key:"openDialog",value:function(t,e){var n=this,a=new s.e;a.disableClose=!1,a.autoFocus=!0,a.width="620px",a.backdropClass="background-color:#000",a.data={task:t,mode:e},this.dialog.open(Xt,a).afterClosed().subscribe((function(t){n.getTasks()}))}}]),t}()).\u0275fac=function(t){return new(t||Be)(d.Ob(bt),d.Ob(yt),d.Ob(k),d.Ob(wt),d.Ob(b.a),d.Ob(s.h),d.Ob(s.b),d.Ob(s.a))},Be.\u0275cmp=d.Ib({type:Be,selectors:[["app-comments"]],viewQuery:function(t,e){var n;1&t&&(d.Nc(ee,!0),d.Nc(ne,!0)),2&t&&(d.vc(n=d.dc())&&(e.assigneeInput=n.first),d.vc(n=d.dc())&&(e.matAutocomplete=n.first))},decls:2,vars:2,consts:[["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[4,"ngIf"],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],["mat-dialog-title",""],["matDialogClose","","mat-mini-fab","",2,"float","right",3,"click"],[2,"font-size","19px"],[1,"row",2,"text-align","center"],[1,"col-md-4","col-sm-12"],["mat-button","",1,"tab_btn",3,"ngClass","click"],["md-list-icon",""],["mat-dialog-content","",1,"font"],["chipList",""],["mat-button","","matTooltip","Assigned Users"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["style","width:70px;",3,"selectable","removable","removed",4,"ngIf"],[3,"matTooltip","click"],[1,"formate_chip"],[2,"width","70px",3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"row"],[1,"col-md-2"],[1,"mat_label"],[1,"col-md-10"],[1,"mat-desc"],[1,"container"],[3,"submit"],["commentForm","ngForm"],[1,"col-md-9"],["appearance","outline"],["matInput","","name","comment","type","text","placeholder","Write Comment Here ...","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["matSuffix",""],[1,"col-md-3",2,"text-align","left"],["type","file",2,"width","40px",3,"change"],["filePicker",""],["mat-stroked-button","",1,"comment_btn",3,"click"],["matTooltip","Attachment","matSuffix",""],["mat-stroked-button","","color","primary",1,"comment_btn",3,"disabled"],["matTooltip","Save Your Comment","type","submit","matSuffix",""],["class","file_name",3,"matTooltip",4,"ngIf"],["class","example-margin","mode","indeterminate","diameter","20","value","20",4,"ngIf"],[1,"file_name",3,"matTooltip"],["mode","indeterminate","diameter","20","value","20",1,"example-margin"],[4,"ngFor","ngForOf"],["class","msj macro",4,"ngIf"],["class","msj-rta macro",4,"ngIf"],[1,"msj","macro"],[1,"text","text-l"],[1,"img-circle",3,"matTooltip"],[1,"msj-rta","macro"],[1,"text","text-r"],[1,"img-circle",2,"float","right","padding","5px",3,"matTooltip"],["target","_blank",3,"matTooltip","href",4,"ngIf"],["target","_blank",3,"matTooltip","href"],["md-list-icon","",2,"font-size","16px","float","left"],["class","container",4,"ngFor","ngForOf"],[1,"attachment-thumbnail"],["target","_blank",1,"attachment-thumbnail-preview","js-open-viewer","attachment-thumbnail-preview-is-cover",3,"href","title"],["class","file_type",4,"ngIf"],[1,"attachment-thumbnail-details","js-open-viewer"],[1,"attachment-thumbnail-name"],["href","","target","_blank","rel","noreferrer nofollow noopener",1,"attachment-thumbnail-details-title-action","dark-hover","js-attachment-action","js-direct-link"],[1,"icon-sm","icon-external-link"],[1,"u-block","quiet","attachment-thumbnail-details-title-options"],["dt","2020-01-08T10:23:41.360Z","title","January 8, 2020 3:50 PM",1,"date"],[1,"attachment-thumbnail-details-title-options-item","dark-hover","js-confirm-delete"],["mat-button","",1,"del_att",3,"click"],[1,"file_type"],["top",""],[1,"side_nav_filter"],[2,"background-color","#eaeaea","height","100%","border-radius","7px"],[2,"padding","0px 15px 0px 18px"],["matTooltip","Starred",3,"ngClass","click"],["fxFlex","10"],[1,"sidenav-item"],["matTooltip","Priority",3,"ngClass","click"],["matTooltip","Sheduled",3,"ngClass","click"],["matTooltip","Today",3,"ngClass","click"],["matTooltip","Done",3,"ngClass","click"],["matTooltip","Deleted",3,"ngClass","click"],[1,"side_nav_content"],["matTooltip","Tags",1,"tags"],["class","tag",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],["matTooltip","Add New Task","mat-mini-fab","",2,"float","right",3,"click"],[2,"max-height","310px","overflow-y","scroll","height","310px"],["style","text-align: center;",4,"ngIf"],["class","task_matcard",4,"ngFor","ngForOf"],[1,"tag",3,"ngClass","ngStyle","click"],[2,"text-align","center"],[1,"task_matcard"],[1,"task_task"],[2,"flex","1 1 0%","box-sizing","border-box"],[2,"font-size","15px","font-weight","600",3,"ngClass"],[2,"margin-top","4px",3,"ngClass"],[2,"padding","11px 0px 3px 0px"],["class","name_circle",3,"matTooltip",4,"ngFor","ngForOf"],["matTooltip","Add New User",3,"click"],[2,"font-size","12px"],["class","tags","style","flex-flow: row wrap; box-sizing: border-box; display: flex; place-content: center flex-start; align-items: center;",4,"ngIf"],[1,"task_tags"],["matTooltip","Change Task Status (or) Move","mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"name_circle",3,"matTooltip"],[1,"tags",2,"flex-flow","row wrap","box-sizing","border-box","display","flex","place-content","center flex-start","align-items","center"],["class","tag",3,"ngStyle",4,"ngFor","ngForOf"],[1,"tag",3,"ngStyle"]],template:function(t,e){1&t&&(d.Gc(0,ae,1,0,"mat-progress-spinner",0),d.Gc(1,Ae,38,15,"div",1)),2&t&&(d.oc("ngIf",e.isLoading),d.Cb(1),d.oc("ngIf",!e.isLoading))},directives:[i.l,H.a,s.i,U.b,s.d,I.a,i.j,s.f,P.b,Y.a,i.k,P.a,P.c,C.f,c.v,c.n,c.o,C.b,_.b,c.b,c.t,c.m,c.p,C.g,U.a,C.a,Zt.c,Zt.a,i.m,K.a,te.c,te.d,te.a],pipes:[i.e],styles:['.form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#fff;color:#f89b46}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%]:hover, .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#f89b46;color:#fff}.mat-button.mat-primary[_ngcontent-%COMP%], .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#f89b46}.mat-button.mat-primary[_ngcontent-%COMP%], .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#f89b46;color:#fff}.comment_btn[_ngcontent-%COMP%]{border-radius:17px}body[_ngcontent-%COMP%]{font:12px/1.5 PT Sans,serif;margin:25px}.tags[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:10px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.side_nav_filter[_ngcontent-%COMP%]{width:185px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:710px}.active_filter[_ngcontent-%COMP%], .active_tag[_ngcontent-%COMP%]{background-color:#eee}.priority_true[_ngcontent-%COMP%]{color:red!important}.priority_false[_ngcontent-%COMP%]{color:#000!important}.starred_true[_ngcontent-%COMP%]{color:#ffc107!important}.starred_false[_ngcontent-%COMP%]{color:#000!important}.tag[_ngcontent-%COMP%]{background:#eee;border-radius:3px 0 0 3px;color:#000;display:inline-block;height:26px;line-height:26px;padding:0 15px 0 18px;position:relative;margin:0 4px 0 0;text-decoration:none}.tag[_ngcontent-%COMP%]:before{border-radius:10px;box-shadow:inset 0 1px rgba(0,0,0,.25);height:6px;left:10px;width:6px;top:10px}.tag[_ngcontent-%COMP%]:after, .tag[_ngcontent-%COMP%]:before{background:#fff;content:"";position:absolute}.tag[_ngcontent-%COMP%]:after{border-bottom:13px solid transparent;border-left:10px solid #eee;border-top:13px solid transparent;right:0;top:0}.task_done[_ngcontent-%COMP%]{text-decoration:line-through}.tag[_ngcontent-%COMP%]:hover{background-color:#fff;color:#fff}.tag[_ngcontent-%COMP%]:hover:after{border-left-color:#fff}.task_matcard[_ngcontent-%COMP%]{display:block;background-color:#fff;position:relative;padding:16px 16px 0 8px;border-bottom:1px solid;text-transform:none;cursor:pointer;flex-shrink:0}mat-list-item[_ngcontent-%COMP%]{border-radius:25px!important;margin:1px}.task_tages[_ngcontent-%COMP%]{flex-direction:row}.task_tages[_ngcontent-%COMP%], .task_task[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;box-sizing:border-box;display:-webkit-box;display:flex;place-content:center flex-start;-webkit-box-align:center;align-items:center}.task_task[_ngcontent-%COMP%]{flex-direction:row;-webkit-box-flex:1;flex:1 1 0%}.sidenav-item[_ngcontent-%COMP%]{padding:15px;font-size:15px}.msg_send_btn[_ngcontent-%COMP%]{background:#05728f none repeat scroll 0 0;border:none;border-radius:50%;color:#fff;cursor:pointer;font-size:17px;height:33px;position:absolute;right:0;top:11px;width:33px}.mat-desc[_ngcontent-%COMP%]{font:400 14px/24px Roboto,Helvetica Neue,sans-serif;letter-spacing:inherit}.mat_label[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.avatar_l[_ngcontent-%COMP%]{justify-content:left}.avatar_l[_ngcontent-%COMP%], .avatar_r[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;-webkit-box-align:center;align-items:center;width:25%;float:left;padding-right:10px}.avatar_r[_ngcontent-%COMP%]{justify-content:flex-end}.mytext[_ngcontent-%COMP%]{border:0;padding:10px;background:#f5f5f5}.text[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-of-type{width:100%;margin-top:0;margin-bottom:auto;line-height:13px;font-size:14px}.text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-of-type{width:100%;text-align:right;color:silver;margin-bottom:-7px;margin-top:auto}.text-l[_ngcontent-%COMP%]{float:left;padding-right:10px}.text-r[_ngcontent-%COMP%]{float:right;padding-left:10px}.avatar[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;width:25%;float:left;padding-right:10px}.avatar[_ngcontent-%COMP%], .macro[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.macro[_ngcontent-%COMP%]{margin-top:5px;width:65%;border-radius:5px;padding:5px}.msj-rta[_ngcontent-%COMP%]{float:right;background:#e0e0de}.msj[_ngcontent-%COMP%]{float:left;background:#fbe8d6}.frame[_ngcontent-%COMP%]{background:#e0e0de;height:450px;overflow:hidden;padding:0}.frame[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type{position:absolute;bottom:0;width:100%;display:-webkit-box;display:flex}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:90%;font-weight:500;color:#000}.msj[_ngcontent-%COMP%]:before{left:-14px;border-color:transparent #fbe8d6 transparent transparent;border-width:0 13px 13px 0}.msj-rta[_ngcontent-%COMP%]:after, .msj[_ngcontent-%COMP%]:before{width:0;height:0;content:"";top:-5px;position:relative;border-style:solid}.msj-rta[_ngcontent-%COMP%]:after{left:15px;border-color:#e0e0de transparent transparent;border-width:13px 13px 0 0}input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]::-moz-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]:-moz-placeholder{color:#d4d4d4}.mat-chip[_ngcontent-%COMP%], .mat-chip-ripple[_ngcontent-%COMP%]{white-space:nowrap;width:113px;overflow:hidden;text-overflow:ellipsis}.formate_chip[_ngcontent-%COMP%]{white-space:nowrap!important;width:100px!important;overflow:hidden!important;text-overflow:ellipsis!important}.btn_list[_ngcontent-%COMP%]{width:15%;margin:6px 15px 1px 11px;border:.6px solid #000}.ribbon[_ngcontent-%COMP%]{width:0;height:0;content:"";top:-5px;left:15px;position:relative;border-color:#e0e0de transparent transparent;border-style:solid;border-width:13px 13px 0 0}.img-circle[_ngcontent-%COMP%]{padding:7px}.img-circle[_ngcontent-%COMP%], .img-circle1[_ngcontent-%COMP%]{background-color:#fdfdfd;width:30px;font-weight:800;height:30px;border-radius:14px;text-align:center}.img-circle1[_ngcontent-%COMP%]{padding:5px}.task_card[_ngcontent-%COMP%]{margin:5px 48px;background:#eceaea;min-height:auto;height:50px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-3-line[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-3-line[_ngcontent-%COMP%]{border:1px solid #b7b6b6;height:88px;background:#fff;top:6px;margin:0 0 8px 2px;border-radius:10px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]:hover{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;box-sizing:border-box;padding:0 16px;background:#e0e0de;position:relative;height:inherit}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.btn[_ngcontent-%COMP%]{cursor:pointer}.full-width[_ngcontent-%COMP%]{width:80%;margin-top:20px}.example-spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.todoitem[_ngcontent-%COMP%]{margin:5px 0;color:#171717;text-overflow:ellipsis;border-radius:8px}.done-true[_ngcontent-%COMP%]{-webkit-text-decoration:line-through #d50000;text-decoration:line-through #d50000}.done-false[_ngcontent-%COMP%]{text-decoration:none}section[_ngcontent-%COMP%]{display:table;margin:8px}.example-label[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;width:120px}.example-button-row[_ngcontent-%COMP%], .example-label[_ngcontent-%COMP%]{display:table-cell}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:table-cell;margin-right:8px}.example-flex-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;width:480px}.example-button-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;width:120px}.name_circle[_ngcontent-%COMP%]{padding:9px;background:#a9a9a9;color:#000;font:10px Arial,sans-serif}.name_circle[_ngcontent-%COMP%], .name_circle[_ngcontent-%COMP%]:hover{border-radius:50%;text-align:center}.name_circle[_ngcontent-%COMP%]:hover{padding:10px;background:#fff;color:#f89b46;font:11px Arial,sans-serif}.attachment-thumbnail[_ngcontent-%COMP%]{border-radius:3px;min-height:80px;margin:0 0 8px;overflow:hidden;position:relative}.attachment-thumbnail-preview[_ngcontent-%COMP%]{background-color:rgba(9,30,66,.04);background-position:50%;background-size:contain;background-repeat:no-repeat;border-radius:3px;height:80px;margin-top:-40px;position:absolute;top:50%;left:0;text-align:center;text-decoration:none;z-index:1;width:112px}.attachment-thumbnail-details[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;padding:8px 8px 8px 128px;min-height:80px;margin:0;z-index:0}pre[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:15px;line-height:20px;color:#000;font-weight:500}.tab_btn[_ngcontent-%COMP%]{width:100%;color:#af9c9c}.file_type[_ngcontent-%COMP%]{font-size:27px;color:#fff;margin-top:15px!important}.tab_btn_active[_ngcontent-%COMP%]{width:100%;background-color:#dedede}.del_att[_ngcontent-%COMP%]{color:#fff;border:.1px solid;background:#e99446;border-radius:7px;padding:4px;margin:8px}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.attachment-thumbnail-details[_ngcontent-%COMP%]   .attachment-thumbnail-name[_ngcontent-%COMP%]{font-weight:700;word-wrap:break-word}.attachment-thumbnail-details-title-action[_ngcontent-%COMP%]{padding-left:3px}.attachment-thumbnail-details-title-options[_ngcontent-%COMP%]{margin-bottom:8px}.file_name[_ngcontent-%COMP%]{white-space:nowrap;width:200px;overflow:hidden;text-overflow:ellipsis}@media (min-width:1025px) and (max-width:1280px){.side_nav_filter[_ngcontent-%COMP%]{width:185px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:722px}}@media (min-width:768px) and (max-width:1024px){.side_nav_filter[_ngcontent-%COMP%]{width:150px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:600px}}@media (min-width:767px) and (max-width:1023px) and (orientation:landscape){.side_nav_filter[_ngcontent-%COMP%]{width:130px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:430px}}']}),Be),$e=n("qb46"),Re=n("+0xr"),Ne=n("LPYB");function Ve(t,e){if(1&t&&(d.Ub(0,"div"),d.Pb(1,"canvas",28),d.Tb()),2&t){var n=d.gc();d.Cb(1),d.oc("datasets",n.ChartData)("labels",n.Labels)("options",n.ChartOptions)("legend",n.ChartLegend)("chartType",n.ChartType)}}function qe(t,e){1&t&&(d.Ub(0,"th",29),d.Ic(1," Ticket "),d.Tb())}function Je(t,e){if(1&t&&(d.Ub(0,"td",30),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.pc("matTooltip",n.ticket_name),d.Cb(1),d.Kc(" ",n.ticket_name," ")}}function Ke(t,e){1&t&&(d.Ub(0,"th",31),d.Ic(1," Created At "),d.Tb())}function Ye(t,e){if(1&t&&(d.Ub(0,"td",30),d.hc(1,"date"),d.Ic(2),d.hc(3,"date"),d.Tb()),2&t){var n=e.$implicit;d.qc("matTooltip","Last Updated By ",d.jc(1,2,n.updatedAt,"medium"),""),d.Cb(2),d.Kc(" ",d.jc(3,5,n.createdAt,"medium")," ")}}function He(t,e){1&t&&(d.Ub(0,"th",31),d.Ic(1,"Status "),d.Tb())}function We(t,e){if(1&t&&(d.Ub(0,"mat-option",37),d.Ic(1),d.Tb()),2&t){var n=e.$implicit;d.oc("value",n),d.Cb(1),d.Kc(" ",n," ")}}function Qe(t,e){if(1&t){var n=d.Vb();d.Ub(0,"td",32),d.Ub(1,"mat-form-field",33),d.Ub(2,"mat-label"),d.Ic(3,"Ticket Status"),d.Tb(),d.Ub(4,"mat-select",34,35),d.cc("selectionChange",(function(){d.zc(n);var t=e.$implicit,a=d.wc(5);return d.gc().onChangeStatus("status",a.value,t._id,t.ticket_priority)})),d.Gc(6,We,2,2,"mat-option",36),d.Tb(),d.Tb(),d.Tb()}if(2&t){var a=e.$implicit,i=d.gc();d.Cb(4),d.pc("value",a.status),d.Cb(2),d.oc("ngForOf",i.ticket_status)}}function Xe(t,e){1&t&&(d.Ub(0,"th",38),d.Ic(1,"Action "),d.Tb())}function Ze(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-icon",44),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc().openDialog(t._id,"edit")})),d.Ic(1,"edit"),d.Tb()}}function tn(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-icon",45),d.cc("click",(function(){d.zc(n);var t=d.gc().$implicit;return d.gc().onDelete(t._id)})),d.Ic(1,"delete"),d.Tb()}}function en(t,e){if(1&t){var n=d.Vb();d.Ub(0,"td",39),d.Gc(1,Ze,2,0,"mat-icon",40),d.Gc(2,tn,2,0,"mat-icon",41),d.Ub(3,"mat-icon",42),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc().ticketInfoDialog(t._id)})),d.Ic(4,"info"),d.Tb(),d.Ub(5,"mat-icon",43),d.cc("click",(function(){d.zc(n);var t=e.$implicit;return d.gc().commentsDialog(t.projectId._id,t._id)})),d.Ic(6,"chat"),d.Tb(),d.Tb()}if(2&t){var a=d.gc();d.Cb(1),d.oc("ngIf",3!=a.userData.role),d.Cb(1),d.oc("ngIf",3!=a.userData.role)}}function nn(t,e){1&t&&d.Pb(0,"tr",46)}function an(t,e){1&t&&d.Pb(0,"tr",47)}function on(t,e){1&t&&d.Pb(0,"mat-progress-spinner",48)}function cn(t,e){1&t&&(d.Ub(0,"p",49),d.Ic(1,"No Tickets Found!"),d.Tb())}function rn(t,e){if(1&t){var n=d.Vb();d.Ub(0,"mat-paginator",50),d.cc("page",(function(t){return d.zc(n),d.gc().onChangedPage(t)})),d.Tb()}if(2&t){var a=d.gc();d.oc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var sn,ln,bn=[{path:"projects",component:rt},{path:"tickets/:pid",component:(sn=function(){function t(e,n,a,i,o){var c=this;_classCallCheck(this,t),this.ticketsService=e,this.activatedRoute=n,this.dialog=a,this.projectsService=i,this.router=o,this.tickets=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.projectData=[],this.sizeOptions=[10,20,50],this.ticket_priority=["High","Medium","Low"],this.ticket_status=["New","Pending","Done","Closed"],this.displayedColumns1=["Ticket","Created At","Status","Action"],this.ChartData=[{data:[0,0,0,0,0],label:"Tages",lineTension:6,pointRadius:[4,4,4,4],borderWidth:2}],this.Labels=["Frontend","Backend","API","Issue","Mobile"],this.ChartOptions={responsive:!0,tooltips:{enabled:!0},plugins:{datalabels:{anchor:"top",align:"top",font:{size:12}}}},this.barChartPlugins=[$e],this.ChartLegend=!0,this.ChartType="doughnut",this.activatedRoute.paramMap.subscribe((function(t){c.pid=t.get("pid")}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.userData=this.ticketsService.getUserData(),this.projectsService.getProjectById(this.pid).subscribe((function(e){t.projectData=e.data[0],t.ticketsService.getTicketsByProjectId(t.perPage,t.currentPage,t.search,t.pid).subscribe((function(e){t.tickets=e.data,t.Count=e.count,t.ticketsService.getTicketTages(t.pid).subscribe((function(e){t.ChartData[0].data=e.data,t.isLoading=!1}))}))}))}},{key:"onDelete",value:function(t){var e=this;this.ticketsService.deleteTicket(t).subscribe((function(t){e.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"onChangeStatus",value:function(t,e,n,a){var i=this,o={id:n};"priority"==t?(o.status=a,o.ticket_priority=e,this.ticketsService.updateTicketStatus(o).subscribe((function(t){i.ngOnInit()}))):"status"==t&&(o.ticket_priority=a,o.status=e,this.ticketsService.updateTicketStatus(o).subscribe((function(t){i.ngOnInit()})))}},{key:"openDialog",value:function(t,e){var n=this,a=new s.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:t,pid:this.pid,mode:e},this.dialog.open(kt,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}},{key:"ticketInfoDialog",value:function(t){var e=this,n=new s.e;n.disableClose=!1,n.autoFocus=!0,n.width="598px",n.data={id:t},this.dialog.open(Ot,n).afterClosed().subscribe((function(t){e.ngOnInit()}))}},{key:"commentsDialog",value:function(t,e){var n=this,a=new s.e;a.disableClose=!1,a.autoFocus=!0,a.width="962px",a.minHeight="563px",a.data={pid:t,tid:e},this.dialog.open(Ee,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}}]),t}(),sn.\u0275fac=function(t){return new(t||sn)(d.Ob(bt),d.Ob(r.a),d.Ob(s.b),d.Ob(k),d.Ob(r.b))},sn.\u0275cmp=d.Ib({type:sn,selectors:[["app-tickets"]],decls:38,vars:8,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6",2,"background-color","#fafafa"],[4,"ngIf"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Ticket"],["mat-header-cell","","style","width:50%",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Created At"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Status"],["mat-cell","",4,"matCellDef"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["baseChart","","width","800","height","200",3,"datasets","labels","options","legend","chartType"],["mat-header-cell","",2,"width","50%"],["mat-cell","",3,"matTooltip"],["mat-header-cell",""],["mat-cell",""],["appearance","outline",1,"status_cus"],["name","status","placeholder","Select Status",3,"value","selectionChange"],["ticketSInput",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["color","primary","md-list-icon","",3,"click",4,"ngIf"],["color","warn","matTooltip","Delete Category","md-list-icon","",3,"click",4,"ngIf"],["md-list-icon","","matTooltip","Ticket Info",3,"click"],["md-list-icon","","color","accent","matTooltip","Comments / Chat",3,"click"],["color","primary","md-list-icon","",3,"click"],["color","warn","matTooltip","Delete Category","md-list-icon","",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"div",2),d.Ub(3,"div",3),d.Gc(4,Ve,2,5,"div",4),d.Tb(),d.Ub(5,"div",5),d.Ub(6,"mat-card"),d.Ub(7,"form",6),d.Ub(8,"mat-form-field",7),d.Ub(9,"input",8,9),d.cc("ngModelChange",(function(t){return e.search=t}))("keyup",(function(){return e.onSearch()})),d.Tb(),d.Tb(),d.Ub(11,"mat-icon",10),d.Ic(12,"search"),d.Tb(),d.Ub(13,"button",11),d.cc("click",(function(){return e.openDialog(0,"create")})),d.Ic(14,"+ Ticket"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Pb(15,"br"),d.Ub(16,"div",0),d.Ub(17,"table",12),d.Sb(18,13),d.Gc(19,qe,2,0,"th",14),d.Gc(20,Je,2,2,"td",15),d.Rb(),d.Sb(21,16),d.Gc(22,Ke,2,0,"th",17),d.Gc(23,Ye,4,8,"td",15),d.Rb(),d.Sb(24,18),d.Gc(25,He,2,0,"th",17),d.Gc(26,Qe,7,2,"td",19),d.Rb(),d.Sb(27,20),d.Gc(28,Xe,2,0,"th",21),d.Gc(29,en,7,2,"td",22),d.Rb(),d.Gc(30,nn,1,0,"tr",23),d.Gc(31,an,1,0,"tr",24),d.Tb(),d.Tb(),d.Pb(32,"br"),d.Pb(33,"br"),d.Ub(34,"div",0),d.Gc(35,on,1,0,"mat-progress-spinner",25),d.Gc(36,cn,2,0,"p",26),d.Gc(37,rn,1,3,"mat-paginator",27),d.Tb()),2&t&&(d.Cb(4),d.oc("ngIf",e.tickets.length>0),d.Cb(5),d.oc("ngModel",e.search),d.Cb(8),d.oc("dataSource",e.tickets),d.Cb(13),d.oc("matHeaderRowDef",e.displayedColumns1),d.Cb(1),d.oc("matRowDefColumns",e.displayedColumns1),d.Cb(4),d.oc("ngIf",e.isLoading),d.Cb(1),d.oc("ngIf",e.tickets.length<=0&&!e.isLoading),d.Cb(1),d.oc("ngIf",e.tickets.length>0))},directives:[i.l,K.a,c.v,c.n,c.o,C.b,_.b,c.b,c.m,c.p,I.a,Re.j,Re.c,Re.e,Re.b,Re.g,Re.i,Ne.a,Re.d,Re.a,Y.a,C.f,dt.a,i.k,O.n,Re.f,Re.h,H.a,W.a],pipes:[i.e],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{table-layout:fixed}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}mat-icon[_ngcontent-%COMP%]{margin:5px}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}.example-card[_ngcontent-%COMP%]{width:100%;margin:15px}.example-card[_ngcontent-%COMP%]:hover{width:100%;background-color:#a09d9d}.example-header-image[_ngcontent-%COMP%]{background-image:url(/assets/proj.jpg);background-size:cover}mat-card-subtitle[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{white-space:nowrap;width:105px;overflow:hidden;text-overflow:ellipsis}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c!important}.mat-card[_ngcontent-%COMP%]{background:#fff;width:100%;color:#f89b46;height:90px;min-width:100%}.status_cus[_ngcontent-%COMP%]{height:55px;width:98%}.mat-form-field-type-mat-select[_ngcontent-%COMP%]:not(.mat-form-field-disabled)   .mat-form-field-flex[_ngcontent-%COMP%]{cursor:pointer!important;height:50px!important}"]}),sn)},{path:"",redirectTo:"projects",pathMatch:"full"}],dn=((ln=function t(){_classCallCheck(this,t)}).\u0275mod=d.Mb({type:ln}),ln.\u0275inj=d.Lb({factory:function(t){return new(t||ln)},imports:[[r.f.forChild(bn)],r.f]}),ln);n.d(e,"SharedModule",(function(){return gn}));var mn,gn=((mn=function t(){_classCallCheck(this,t)}).\u0275mod=d.Mb({type:mn}),mn.\u0275inj=d.Lb({factory:function(t){return new(t||mn)},imports:[[i.c,c.g,Ne.b,c.s,o.a,dn]]}),mn)}}]);