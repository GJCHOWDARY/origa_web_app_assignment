function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{xtjK:function(t,e,a){"use strict";a.r(e);var n,i=a("ofXK"),o=a("tyNb"),c=a("fXoL"),r=a("AytR"),b=a("tk/3"),s=a("qXBG"),l=r.a.apiUrl+"/users",d=r.a.apiUrl+"/leave",u=((n=function(){function t(e,a,n){_classCallCheck(this,t),this.http=e,this.router=a,this.authService=n}return _createClass(t,[{key:"getAssignedUsers",value:function(t,e,a,n){var i="?pagesize=".concat(t,"&page=").concat(e);return a&&(i+="&search=".concat(a)),this.http.get(l+"/getassignedusers/"+n+i)}},{key:"getUser",value:function(t){return this.http.get(l+"/"+t)}},{key:"getAssignedLeaves",value:function(t,e,a,n,i,o){var c="?pagesize=".concat(t,"&page=").concat(e,"&start_date=").concat(n,"&end_date=").concat(i);return a&&(c+="&filter=".concat(a)),o.userId&&null!=o.userId&&(c+="&userId=".concat(o.userId)),this.http.get(d+"/getassigneduserleaves/"+o.assigneeId+c)}},{key:"updateLeaveStatus",value:function(t,e){return t.status=e,this.http.put(d+"/cancelleave/"+t._id,t)}},{key:"approveLeave",value:function(t,e){return t.status=e,this.http.put(d+"/approveleave/"+t._id,t)}},{key:"getUserId",value:function(){return this.authService.getUserId()}}]),t}()).\u0275fac=function(t){return new(t||n)(c.Yb(b.b),c.Yb(o.b),c.Yb(s.a))},n.\u0275prov=c.Kb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),m=a("0IaG"),f=a("Wp6s"),g=a("3Pt+"),p=a("kmnG"),h=a("qFsG"),v=a("NFeN"),C=a("Qu3c"),T=a("+0xr"),I=a("bTqV"),U=a("Xa2L"),_=a("M9IT");function P(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1,"User Name "),c.Tb())}function y(t,e){if(1&t&&(c.Ub(0,"td",29),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Lc(" ",a.first_name," ",a.last_name,"")}}function O(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1," Email "),c.Tb())}function w(t,e){if(1&t&&(c.Ub(0,"td",30),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.rc("matTooltip","Leave Balance: ",a.leave_balance,"/Status: ",a.status,""),c.Cb(1),c.Kc(" ",a.email," ")}}function k(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1," Location "),c.Tb())}function M(t,e){if(1&t&&(c.Ub(0,"td",29),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.jobDetailsId.job_location," ")}}function S(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1,"Status "),c.Tb())}function D(t,e){if(1&t&&(c.Ub(0,"td",29),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.status," ")}}function x(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1," Role "),c.Tb())}function L(t,e){1&t&&(c.Ub(0,"a"),c.Ic(1,"Admin"),c.Tb())}function G(t,e){1&t&&(c.Ub(0,"a"),c.Ic(1,"Manager"),c.Tb())}function z(t,e){1&t&&(c.Ub(0,"a"),c.Ic(1,"Employee"),c.Tb())}function R(t,e){if(1&t&&(c.Ub(0,"td",29),c.Gc(1,L,2,0,"a",31),c.Gc(2,G,2,0,"a",31),c.Gc(3,z,2,0,"a",31),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.oc("ngIf",1==a.role),c.Cb(1),c.oc("ngIf",2==a.role),c.Cb(1),c.oc("ngIf",3==a.role)}}function A(t,e){1&t&&(c.Ub(0,"th",28),c.Ic(1," Mobile "),c.Tb())}function $(t,e){if(1&t&&(c.Ub(0,"td",29),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.mobile," ")}}function K(t,e){1&t&&(c.Ub(0,"th",32),c.Ic(1,"Action "),c.Tb())}var E=function(t){return["/authorized/manager/approve_leave",t]};function F(t,e){if(1&t&&(c.Ub(0,"td",33),c.Ub(1,"a",34),c.Ub(2,"mat-icon",35),c.Ic(3,"info"),c.Tb(),c.Tb(),c.Tb()),2&t){var a=e.$implicit;c.oc("ngSwitch",a.status),c.Cb(1),c.oc("routerLink",c.tc(2,E,a._id))}}function j(t,e){1&t&&c.Pb(0,"tr",36)}function N(t,e){1&t&&c.Pb(0,"tr",37)}function V(t,e){1&t&&c.Pb(0,"mat-progress-spinner",38)}function B(t,e){1&t&&(c.Ub(0,"p",39),c.Ic(1,"No Users Found!"),c.Tb())}function H(t,e){if(1&t){var a=c.Vb();c.Ub(0,"mat-paginator",40),c.cc("page",(function(t){return c.zc(a),c.gc().onChangedPage(t)})),c.Tb()}if(2&t){var n=c.gc();c.oc("length",n.userCount)("pageSize",n.usersPerPage)("pageSizeOptions",n.userSizeOptions)}}var J,q=function(){return["/authorized/manager/approve_leave"]},X=((J=function(){function t(e,a,n,i,o){var c=this;_classCallCheck(this,t),this.managerService=e,this.authService=a,this.activatedRoute=n,this.dialog=i,this.router=o,this.users=[],this.isLoading=!1,this.currentPage=1,this.userCount=0,this.usersPerPage=10,this.userSizeOptions=[10,20,50],this.userIsAuthenticated=!1,this.userData=[],this.displayedColumns=["Name","Email","Location","Role","Mobile","Status","Action"],this.activatedRoute.paramMap.subscribe((function(t){c.userId=t.get("userId")}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userId&&null!=this.userId||(this.userId=this.authService.getUserId()),this.userIsAuthenticated=this.authService.getIsAuth(),this.isLoading=!0,this.managerService.getAssignedUsers(this.usersPerPage,this.currentPage,this.usersearch,this.userId).subscribe((function(e){t.users=e.users,t.isLoading=!1}))}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.usersPerPage=t.pageSize,this.ngOnInit()}},{key:"userChangeValue",value:function(t){this.currentPage=1,this.ngOnInit()}}]),t}()).\u0275fac=function(t){return new(t||J)(c.Ob(u),c.Ob(s.a),c.Ob(o.a),c.Ob(m.b),c.Ob(o.b))},J.\u0275cmp=c.Ib({type:J,selectors:[["app-assigned-users"]],decls:41,vars:9,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","50%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["matSuffix",""],["matTooltip","Approve Assigne Employee Leave",1,"btn","btn-success","float-right",3,"routerLink"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Status"],["matColumnDef","Role"],["matColumnDef","Mobile"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","User Leave Details",3,"routerLink"],["md-list-icon",""],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t){var a=c.Vb();c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Pb(3,"div",3),c.Ub(4,"div",3),c.Ub(5,"mat-card"),c.Ub(6,"form",4),c.Ub(7,"mat-form-field",5),c.Ub(8,"input",6,7),c.cc("ngModelChange",(function(t){return e.usersearch=t}))("keyup",(function(){c.zc(a);var t=c.wc(9);return e.userChangeValue(t.value)})),c.Tb(),c.Ub(10,"mat-icon",8),c.Ic(11,"search"),c.Tb(),c.Tb(),c.Ub(12,"button",9),c.Ic(13,"Approve Leaves"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(14,"table",10),c.Sb(15,11),c.Gc(16,P,2,0,"th",12),c.Gc(17,y,2,2,"td",13),c.Rb(),c.Sb(18,14),c.Gc(19,O,2,0,"th",12),c.Gc(20,w,2,3,"td",15),c.Rb(),c.Sb(21,16),c.Gc(22,k,2,0,"th",12),c.Gc(23,M,2,1,"td",13),c.Rb(),c.Sb(24,17),c.Gc(25,S,2,0,"th",12),c.Gc(26,D,2,1,"td",13),c.Rb(),c.Sb(27,18),c.Gc(28,x,2,0,"th",12),c.Gc(29,R,4,3,"td",13),c.Rb(),c.Sb(30,19),c.Gc(31,A,2,0,"th",12),c.Gc(32,$,2,1,"td",13),c.Rb(),c.Sb(33,20),c.Gc(34,K,2,0,"th",21),c.Gc(35,F,4,4,"td",22),c.Rb(),c.Gc(36,j,1,0,"tr",23),c.Gc(37,N,1,0,"tr",24),c.Tb(),c.Gc(38,V,1,0,"mat-progress-spinner",25),c.Gc(39,B,2,0,"p",26),c.Gc(40,H,1,3,"mat-paginator",27),c.Tb()}2&t&&(c.Cb(8),c.oc("ngModel",e.usersearch),c.Cb(4),c.oc("routerLink",c.sc(8,q)),c.Cb(2),c.oc("dataSource",e.users),c.Cb(22),c.oc("matHeaderRowDef",e.displayedColumns),c.Cb(1),c.oc("matRowDefColumns",e.displayedColumns),c.Cb(1),c.oc("ngIf",e.isLoading),c.Cb(1),c.oc("ngIf",e.users.length<=0&&!e.isLoading),c.Cb(1),c.oc("ngIf",e.users.length>0))},directives:[f.a,g.v,g.n,g.o,p.b,h.b,g.b,g.m,g.p,v.a,p.g,C.a,o.c,T.j,T.c,T.e,T.b,T.g,T.i,i.l,T.d,T.a,i.n,I.a,o.e,T.f,T.h,U.a,_.a],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),J);function Y(t,e){if(1&t&&(c.Ub(0,"mat-form-field",5),c.Ub(1,"mat-label"),c.Ic(2,"Duration"),c.Tb(),c.Pb(3,"input",15),c.Ub(4,"mat-icon",7),c.Ic(5,"schedule"),c.Tb(),c.Tb()),2&t){var a=c.gc(2);c.Cb(3),c.pc("value",a.data.duration)}}function Q(t,e){if(1&t&&(c.Ub(0,"mat-form-field",5),c.Ub(1,"mat-label"),c.Ic(2,"Shift"),c.Tb(),c.Pb(3,"input",16),c.Ub(4,"mat-icon",7),c.Ic(5,"schedule"),c.Tb(),c.Tb()),2&t){var a=c.gc(2);c.Cb(3),c.pc("value",a.data.shift)}}function W(t,e){if(1&t&&(c.Ub(0,"div",3),c.Ub(1,"div",17),c.Ub(2,"mat-form-field",5),c.Ub(3,"mat-label"),c.Ic(4,"Start Time"),c.Tb(),c.Pb(5,"input",18),c.Ub(6,"mat-icon",7),c.Ic(7,"access_time"),c.Tb(),c.Tb(),c.Tb(),c.Ub(8,"div",17),c.Ub(9,"mat-form-field",5),c.Ub(10,"mat-label"),c.Ic(11,"End Time"),c.Tb(),c.Pb(12,"input",19),c.Ub(13,"mat-icon",7),c.Ic(14,"access_time"),c.Tb(),c.Tb(),c.Tb(),c.Ub(15,"div",17),c.Ub(16,"mat-form-field",5),c.Ub(17,"mat-label"),c.Ic(18,"Time Taken"),c.Tb(),c.Pb(19,"input",20),c.Ub(20,"mat-icon",7),c.Ic(21,"timelapse"),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t){var a=c.gc(2);c.Cb(5),c.pc("value",a.data.start_time),c.Cb(7),c.pc("value",a.data.end_time),c.Cb(7),c.pc("value",a.data.time_taken)}}function Z(t,e){if(1&t){var a=c.Vb();c.Ub(0,"div",2),c.Ub(1,"div",3),c.Ub(2,"div",4),c.Ub(3,"mat-form-field",5),c.Ub(4,"mat-label"),c.Ic(5,"Leave Type"),c.Tb(),c.Pb(6,"input",6),c.Ub(7,"mat-icon",7),c.Ic(8,"launch"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"div",3),c.Ub(10,"div",4),c.Ub(11,"mat-form-field",5),c.Ub(12,"mat-label"),c.Ic(13,"Start Date"),c.Tb(),c.Pb(14,"input",8),c.hc(15,"date"),c.Ub(16,"mat-icon",7),c.Ic(17,"calendar_today"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(18,"div",3),c.Ub(19,"div",4),c.Ub(20,"mat-form-field",5),c.Ub(21,"mat-label"),c.Ic(22,"End Date"),c.Tb(),c.Pb(23,"input",9),c.hc(24,"date"),c.Ub(25,"mat-icon",7),c.Ic(26,"calendar_today"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(27,"div",3),c.Ub(28,"div",4),c.Gc(29,Y,6,1,"mat-form-field",10),c.Tb(),c.Tb(),c.Ub(30,"div",3),c.Ub(31,"div",4),c.Gc(32,Q,6,1,"mat-form-field",10),c.Tb(),c.Tb(),c.Gc(33,W,22,3,"div",11),c.Ub(34,"div",3),c.Ub(35,"div",4),c.Ub(36,"mat-form-field",5),c.Ub(37,"mat-label"),c.Ic(38,"Comments"),c.Tb(),c.Ub(39,"textarea",12),c.Ic(40),c.Tb(),c.Ub(41,"mat-icon",7),c.Ic(42,"speaker_notes"),c.Tb(),c.Tb(),c.Pb(43,"br"),c.Tb(),c.Tb(),c.Ub(44,"div",13),c.Ub(45,"button",14),c.cc("click",(function(){return c.zc(a),c.gc().close()})),c.Ic(46,"Close"),c.Tb(),c.Ic(47,"\xa0 "),c.Tb(),c.Tb()}if(2&t){var n=c.gc();c.Cb(6),c.pc("value",n.data.leaveId.leave_type),c.Cb(8),c.pc("value",c.jc(15,8,n.data.start_date,"shortDate")),c.Cb(9),c.pc("value",c.jc(24,11,n.data.end_date,"shortDate")),c.Cb(6),c.oc("ngIf",n.data.duration),c.Cb(3),c.oc("ngIf",n.data.shift),c.Cb(1),c.oc("ngIf","Specify Time"==n.data.duration),c.Cb(6),c.pc("value",n.data.leave_desc),c.Cb(1),c.Jc(n.data.leave_desc)}}var tt,et=((tt=function(){function t(e,a,n,i,o,c){_classCallCheck(this,t),this.managerService=e,this.dialogRef=a,this.route=n,this.router=i,this.dialog=o,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.leave=[],this.isEdit=!0,this.userId=null,console.log(c,"0000000"),this.data=c.data,this.leave=c.balance}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!1}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||tt)(c.Ob(u),c.Ob(m.h),c.Ob(o.a),c.Ob(o.b),c.Ob(m.b),c.Ob(m.a))},tt.\u0275cmp=c.Ib({type:tt,selectors:[["app-leave-details"]],decls:5,vars:4,consts:[["mat-dialog-title",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","name","leaveId","readonly","",3,"value"],["matSuffix",""],["matInput","","readonly","","name","start_date",3,"value"],["matInput","","name","end_date","readonly","",3,"value"],["appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],["matInput","","name","leave_desc","type","text","readonly","",3,"value"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["matInput","","name","duration","readonly","",3,"value"],["matInput","","name","shift","readonly","",3,"value"],[1,"col-md-4"],["matInput","","name","start_time","placeholder","Start Time","readonly","",3,"value"],["matInput","","name","end_time","placeholder","End Time","readonly","",3,"value"],["matInput","","name","time_taken","disabled","true","type","text","readonly","",3,"value"]],template:function(t,e){1&t&&(c.Ub(0,"div"),c.Ub(1,"h2",0),c.Ic(2),c.hc(3,"date"),c.Tb(),c.Tb(),c.Gc(4,Z,48,14,"div",1)),2&t&&(c.Cb(2),c.Kc("Leave Details Applied On: ",c.ic(3,2,e.data.createdAt),""),c.Cb(2),c.oc("ngIf",!e.isLoading))},directives:[m.i,i.l,p.b,p.f,h.b,v.a,p.g,I.b],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),tt),at=a("iadO"),nt=a("d3UM"),it=a("FKr1");function ot(t,e){if(1&t&&(c.Ub(0,"mat-option",36),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.oc("value",a.title),c.Cb(1),c.Kc(" ",a.title," ")}}function ct(t,e){if(1&t&&(c.Ub(0,"div",1),c.Ub(1,"div",37),c.Ub(2,"button",38),c.Ic(3),c.Tb(),c.Ic(4,"\xa0 "),c.Ub(5,"button",39),c.Ic(6),c.Tb(),c.Ic(7,"\xa0 "),c.Ub(8,"button",40),c.Ic(9),c.Tb(),c.Ic(10,"\xa0 "),c.Ub(11,"button",41),c.Ic(12),c.Tb(),c.Ic(13,"\xa0 "),c.Ub(14,"button",42),c.Ic(15),c.Tb(),c.Ic(16,"\xa0 "),c.Tb(),c.Tb()),2&t){var a=c.gc();c.Cb(3),c.Jc(a.leaveBalance.leave_balance),c.Cb(3),c.Jc(a.leaveBalance.optional_holidays),c.Cb(3),c.Jc(a.leaveBalance.camp_off),c.Cb(3),c.Jc(a.leaveBalance.marternity_leave),c.Cb(3),c.Jc(a.leaveBalance.paternity_leave)}}function rt(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," Leave Type"),c.Tb())}function bt(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.leaveId.leave_type," ")}}function st(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," Start Date "),c.Tb())}function lt(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.hc(2,"date"),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",c.ic(2,1,a.start_date)," ")}}function dt(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," Applied Date "),c.Tb())}function ut(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.hc(2,"date"),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",c.ic(2,1,a.createdAt)," ")}}function mt(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," End Date "),c.Tb())}function ft(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.hc(2,"date"),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",c.ic(2,1,a.end_date)," ")}}function gt(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," No of Days Taken "),c.Tb())}function pt(t,e){if(1&t&&(c.Ub(0,"a",46),c.Ic(1),c.Tb()),2&t){var a=c.gc().$implicit;c.pc("matTooltip",a.time_taken),c.Cb(1),c.Kc(" days - ",a.time_taken," (hrs : mins)")}}function ht(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.Gc(2,pt,2,2,"a",45),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.no_of_days_taken," "),c.Cb(1),c.oc("ngIf",0==a.no_of_days_taken)}}function vt(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," Loss of Pay "),c.Tb())}function Ct(t,e){1&t&&(c.Ub(0,"a"),c.Ic(1,"-- --"),c.Tb())}function Tt(t,e){if(1&t&&(c.Ub(0,"a"),c.Ic(1),c.Tb()),2&t){var a=c.gc().$implicit;c.Cb(1),c.Kc("",a.los_of_pay_days," ")}}function It(t,e){if(1&t&&(c.Ub(0,"td",44),c.Gc(1,Ct,2,0,"a",47),c.Gc(2,Tt,2,1,"a",47),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.oc("ngIf",a.los_of_pay_days<=0),c.Cb(1),c.oc("ngIf",a.los_of_pay_days>0)}}function Ut(t,e){1&t&&(c.Ub(0,"th",43),c.Ic(1," Status "),c.Tb())}function _t(t,e){if(1&t&&(c.Ub(0,"td",44),c.Ic(1),c.Tb()),2&t){var a=e.$implicit;c.Cb(1),c.Kc(" ",a.status," ")}}function Pt(t,e){1&t&&(c.Ub(0,"th",48),c.Ic(1,"Action "),c.Tb())}function yt(t,e){1&t&&(c.Ub(0,"a",56),c.Ub(1,"mat-icon",51),c.Ic(2,"check"),c.Tb(),c.Tb())}function Ot(t,e){if(1&t){var a=c.Vb();c.Ub(0,"a",57),c.cc("click",(function(){c.zc(a);var t=c.gc().$implicit;return c.gc().updateLeaveStatus(t,"Canceled")})),c.Ub(1,"mat-icon",51),c.Ic(2,"cancel"),c.Tb(),c.Tb()}}function wt(t,e){if(1&t){var a=c.Vb();c.Ub(0,"a",58),c.cc("click",(function(){c.zc(a);var t=c.gc().$implicit;return c.gc().approveLeave(t,"Approved")})),c.Ub(1,"mat-icon",51),c.Ic(2,"check"),c.Tb(),c.Tb()}}function kt(t,e){1&t&&(c.Ub(0,"a",59),c.Ub(1,"mat-icon",51),c.Ic(2,"block"),c.Tb(),c.Tb())}function Mt(t,e){if(1&t){var a=c.Vb();c.Ub(0,"td",49),c.Ub(1,"a",50),c.cc("click",(function(){c.zc(a);var t=e.$implicit;return c.gc().openDialog(t)})),c.Ub(2,"mat-icon",51),c.Ic(3,"info"),c.Tb(),c.Tb(),c.Gc(4,yt,3,0,"a",52),c.Gc(5,Ot,3,0,"a",53),c.Gc(6,wt,3,0,"a",54),c.Gc(7,kt,3,0,"a",55),c.Tb()}2&t&&(c.oc("ngSwitch",e.$implicit.status),c.Cb(4),c.oc("ngSwitchCase","Approved"),c.Cb(1),c.oc("ngSwitchCase","Pending"),c.Cb(1),c.oc("ngSwitchCase","Pending"),c.Cb(1),c.oc("ngSwitchCase","Canceled"))}function St(t,e){1&t&&c.Pb(0,"tr",60)}function Dt(t,e){1&t&&c.Pb(0,"tr",61)}function xt(t,e){1&t&&c.Pb(0,"mat-progress-spinner",62)}function Lt(t,e){1&t&&(c.Ub(0,"p",63),c.Ic(1,"No Leaves Found!"),c.Tb())}function Gt(t,e){if(1&t){var a=c.Vb();c.Ub(0,"mat-paginator",64),c.cc("page",(function(t){return c.zc(a),c.gc().onChangedPage(t)})),c.Tb()}if(2&t){var n=c.gc();c.oc("length",n.Count)("pageSize",n.perPage)("pageSizeOptions",n.sizeOptions)}}var zt,Rt,At=((zt=function(){function t(e,a,n,i){var o=this;_classCallCheck(this,t),this.managerService=e,this.activatedRoute=a,this.dialog=n,this.router=i,this.leaves=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50,100],this.displayedColumns1=["Leave Type","Applied Date","Start Date","End Date","No of Days Taken","Loss of Pay","Status","Action"],this.filterTypes=[{title:"Approved",id:1},{title:"Rejected",id:2},{title:"Pending",id:3},{title:"Canceled",id:4}],this.userId=this.managerService.getUserId(),this.activatedRoute.paramMap.subscribe((function(t){o.userId=t.get("userId")}));var c=new Date,r=(c.getMonth(),c.getFullYear());c.getDate(),this.start_date=new Date("".concat(r,"/01/01")),this.end_date=new Date("".concat(r,"/12/31"))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.assigneeId=this.managerService.getUserId();var e={assigneeId:this.assigneeId};this.userId&&(e.userId=this.userId),this.managerService.getAssignedLeaves(this.perPage,this.currentPage,this.filter,this.start_date,this.end_date,e).subscribe((function(e){t.leaves=e.data,t.isLoading=!1,t.Count=e.count}))}},{key:"updateLeaveStatus",value:function(t,e){var a=this;this.managerService.updateLeaveStatus(t,e).subscribe((function(t){a.ngOnInit()}))}},{key:"approveLeave",value:function(t,e){var a=this;this.managerService.approveLeave(t,e).subscribe((function(t){a.ngOnInit()}))}},{key:"checkChangesDates",value:function(t,e){console.log("changeeee"),"startDate"==t&&(this.start_date=e.value),"endDate"==t&&(this.end_date=e.value),this.ngOnInit()}},{key:"onChangeFilter",value:function(){this.isLoading=!0,this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(t){var e=this,a=new m.e;a.disableClose=!1,a.autoFocus=!0,a.width="610px",a.data={data:t},this.dialog.open(et,a).afterClosed().subscribe((function(t){e.ngOnInit()}))}}]),t}()).\u0275fac=function(t){return new(t||zt)(c.Ob(u),c.Ob(o.a),c.Ob(m.b),c.Ob(o.b))},zt.\u0275cmp=c.Ib({type:zt,selectors:[["app-myleave"]],decls:65,vars:15,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"row",2,"margin","9px"],["appearance","outline"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Start Date"],["matColumnDef","Applied Date"],["matColumnDef","End Date"],["matColumnDef","No of Days Taken"],["matColumnDef","Loss of Pay"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"row",2,"float","right"],["mat-mini-fab","","matTooltip","Annual Leave"],["mat-mini-fab","","matTooltip","Optional Leave"],["mat-mini-fab","","matTooltip","Camp Off Leave"],["mat-mini-fab","","matTooltip","Marternity Leave"],["mat-mini-fab","","matTooltip","Paternity Leave"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","Leave Details",3,"click"],["md-list-icon",""],["mat-button","","color","accent","matTooltip","Approved",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Leave Canceled",4,"ngSwitchCase"],["mat-button","","color","accent","matTooltip","Approved"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click"],["mat-button","","color","warn","matTooltip","Leave Canceled"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"div",4),c.Ub(5,"div",3),c.Ub(6,"mat-form-field",5),c.Ub(7,"mat-label"),c.Ic(8,"Start Date"),c.Tb(),c.Ub(9,"input",6,7),c.cc("dateChange",(function(t){return e.checkChangesDates("startDate",t)}))("ngModelChange",(function(t){return e.start_date=t})),c.Tb(),c.Pb(11,"mat-datepicker-toggle",8),c.Pb(12,"mat-datepicker",9,10),c.Tb(),c.Tb(),c.Ub(14,"div",3),c.Ub(15,"mat-form-field",5),c.Ub(16,"mat-label"),c.Ic(17,"End Date"),c.Tb(),c.Ub(18,"input",11,12),c.cc("dateChange",(function(t){return e.checkChangesDates("edataInput",t)}))("ngModelChange",(function(t){return e.end_date=t})),c.Tb(),c.Pb(20,"mat-datepicker-toggle",8),c.Pb(21,"mat-datepicker",9,13),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(23,"div",3),c.Ub(24,"div",4),c.Ub(25,"div",3),c.Ub(26,"mat-form-field",5),c.Ub(27,"mat-label"),c.Ic(28,"Filter"),c.Tb(),c.Ub(29,"mat-select",14,15),c.cc("selectionChange",(function(){return e.onChangeFilter()}))("ngModelChange",(function(t){return e.filter=t})),c.Gc(31,ot,2,2,"mat-option",16),c.Tb(),c.Tb(),c.Tb(),c.Pb(32,"div",3),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Pb(33,"br"),c.Gc(34,ct,17,5,"div",17),c.Ub(35,"table",18),c.Sb(36,19),c.Gc(37,rt,2,0,"th",20),c.Gc(38,bt,2,1,"td",21),c.Rb(),c.Sb(39,22),c.Gc(40,st,2,0,"th",20),c.Gc(41,lt,3,3,"td",21),c.Rb(),c.Sb(42,23),c.Gc(43,dt,2,0,"th",20),c.Gc(44,ut,3,3,"td",21),c.Rb(),c.Sb(45,24),c.Gc(46,mt,2,0,"th",20),c.Gc(47,ft,3,3,"td",21),c.Rb(),c.Sb(48,25),c.Gc(49,gt,2,0,"th",20),c.Gc(50,ht,3,2,"td",21),c.Rb(),c.Sb(51,26),c.Gc(52,vt,2,0,"th",20),c.Gc(53,It,3,2,"td",21),c.Rb(),c.Sb(54,27),c.Gc(55,Ut,2,0,"th",20),c.Gc(56,_t,2,1,"td",21),c.Rb(),c.Sb(57,28),c.Gc(58,Pt,2,0,"th",29),c.Gc(59,Mt,8,5,"td",30),c.Rb(),c.Gc(60,St,1,0,"tr",31),c.Gc(61,Dt,1,0,"tr",32),c.Tb(),c.Gc(62,xt,1,0,"mat-progress-spinner",33),c.Gc(63,Lt,2,0,"p",34),c.Gc(64,Gt,1,3,"mat-paginator",35),c.Tb()),2&t){var a=c.wc(13),n=c.wc(22);c.Cb(9),c.oc("matDatepicker",a)("ngModel",e.start_date),c.Cb(2),c.oc("for",a),c.Cb(7),c.oc("matDatepicker",n)("ngModel",e.end_date),c.Cb(2),c.oc("for",n),c.Cb(9),c.oc("ngModel",e.filter),c.Cb(2),c.oc("ngForOf",e.filterTypes),c.Cb(3),c.oc("ngIf",!e.isLoading&&e.leaveBalance),c.Cb(1),c.oc("dataSource",e.leaves),c.Cb(25),c.oc("matHeaderRowDef",e.displayedColumns1),c.Cb(1),c.oc("matRowDefColumns",e.displayedColumns1),c.Cb(1),c.oc("ngIf",e.isLoading),c.Cb(1),c.oc("ngIf",e.leaves.length<=0&&!e.isLoading),c.Cb(1),c.oc("ngIf",e.leaves.length>0)}},directives:[p.b,p.f,h.b,at.b,g.b,g.t,g.m,g.p,at.d,p.g,at.a,nt.a,i.k,i.l,T.j,T.c,T.e,T.b,T.g,T.i,it.n,I.b,C.a,T.d,T.a,i.n,I.a,v.a,i.o,T.f,T.h,U.a,_.a],pipes:[i.e],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),zt),$t=[{path:"assigned_users",component:X},{path:"assigned_users/:userId",component:X},{path:"approve_leave",component:At},{path:"approve_leave/:assignUserId",component:At},{path:"",redirectTo:"assigned_userss",pathMatch:"full"}],Kt=((Rt=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:Rt}),Rt.\u0275inj=c.Lb({factory:function(t){return new(t||Rt)},imports:[[o.f.forChild($t)],o.f]}),Rt),Et=a("rhD1");a.d(e,"ManagerModule",(function(){return jt}));var Ft,jt=((Ft=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:Ft}),Ft.\u0275inj=c.Lb({factory:function(t){return new(t||Ft)},imports:[[i.c,g.g,g.s,Et.a,Kt]]}),Ft)}}]);