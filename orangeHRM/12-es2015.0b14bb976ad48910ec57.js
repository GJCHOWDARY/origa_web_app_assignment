(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{xtjK:function(t,e,a){"use strict";a.r(e);var n=a("ofXK"),o=a("tyNb"),i=a("fXoL"),c=a("AytR"),s=a("tk/3"),r=a("qXBG");const b=c.a.apiUrl+"/users",l=c.a.apiUrl+"/leave";let d=(()=>{class t{constructor(t,e,a){this.http=t,this.router=e,this.authService=a}getAssignedUsers(t,e,a,n){var o=`?pagesize=${t}&page=${e}`;return a&&(o+=`&search=${a}`),this.http.get(b+"/getassignedusers/"+n+o)}getUser(t){return this.http.get(b+"/"+t)}getAssignedLeaves(t,e,a,n,o,i){var c=`?pagesize=${t}&page=${e}&start_date=${n}&end_date=${o}`;return a&&(c+=`&filter=${a}`),i.userId&&null!=i.userId&&(c+=`&userId=${i.userId}`),this.http.get(l+"/getassigneduserleaves/"+i.assigneeId+c)}updateLeaveStatus(t,e){return t.status=e,this.http.put(l+"/cancelleave/"+t._id,t)}approveLeave(t,e){return t.status=e,this.http.put(l+"/approveleave/"+t._id,t)}getUserId(){return this.authService.getUserId()}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(s.b),i.Yb(o.b),i.Yb(r.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=a("0IaG"),u=a("Wp6s"),g=a("3Pt+"),f=a("kmnG"),p=a("qFsG"),h=a("NFeN"),C=a("Qu3c"),v=a("+0xr"),T=a("bTqV"),I=a("Xa2L"),U=a("M9IT");function _(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1,"User Name "),i.Tb())}function P(t,e){if(1&t&&(i.Ub(0,"td",29),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Lc(" ",t.first_name," ",t.last_name,"")}}function O(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1," Email "),i.Tb())}function w(t,e){if(1&t&&(i.Ub(0,"td",30),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.rc("matTooltip","Leave Balance: ",t.leave_balance,"/Status: ",t.status,""),i.Cb(1),i.Kc(" ",t.email," ")}}function M(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1," Location "),i.Tb())}function y(t,e){if(1&t&&(i.Ub(0,"td",29),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.jobDetailsId.job_location," ")}}function S(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1,"Status "),i.Tb())}function D(t,e){if(1&t&&(i.Ub(0,"td",29),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.status," ")}}function k(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1," Role "),i.Tb())}function x(t,e){1&t&&(i.Ub(0,"a"),i.Ic(1,"Admin"),i.Tb())}function L(t,e){1&t&&(i.Ub(0,"a"),i.Ic(1,"Manager"),i.Tb())}function G(t,e){1&t&&(i.Ub(0,"a"),i.Ic(1,"Employee"),i.Tb())}function z(t,e){if(1&t&&(i.Ub(0,"td",29),i.Gc(1,x,2,0,"a",31),i.Gc(2,L,2,0,"a",31),i.Gc(3,G,2,0,"a",31),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.oc("ngIf",1==t.role),i.Cb(1),i.oc("ngIf",2==t.role),i.Cb(1),i.oc("ngIf",3==t.role)}}function R(t,e){1&t&&(i.Ub(0,"th",28),i.Ic(1," Mobile "),i.Tb())}function A(t,e){if(1&t&&(i.Ub(0,"td",29),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.mobile," ")}}function $(t,e){1&t&&(i.Ub(0,"th",32),i.Ic(1,"Action "),i.Tb())}const K=function(t){return["/authorized/manager/approve_leave",t]};function E(t,e){if(1&t&&(i.Ub(0,"td",33),i.Ub(1,"a",34),i.Ub(2,"mat-icon",35),i.Ic(3,"info"),i.Tb(),i.Tb(),i.Tb()),2&t){const t=e.$implicit;i.oc("ngSwitch",t.status),i.Cb(1),i.oc("routerLink",i.tc(2,K,t._id))}}function F(t,e){1&t&&i.Pb(0,"tr",36)}function N(t,e){1&t&&i.Pb(0,"tr",37)}function j(t,e){1&t&&i.Pb(0,"mat-progress-spinner",38)}function V(t,e){1&t&&(i.Ub(0,"p",39),i.Ic(1,"No Users Found!"),i.Tb())}function B(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-paginator",40),i.cc("page",(function(e){return i.zc(t),i.gc().onChangedPage(e)})),i.Tb()}if(2&t){const t=i.gc();i.oc("length",t.userCount)("pageSize",t.usersPerPage)("pageSizeOptions",t.userSizeOptions)}}const H=function(){return["/authorized/manager/approve_leave"]};let J=(()=>{class t{constructor(t,e,a,n,o){this.managerService=t,this.authService=e,this.activatedRoute=a,this.dialog=n,this.router=o,this.users=[],this.isLoading=!1,this.currentPage=1,this.userCount=0,this.usersPerPage=10,this.userSizeOptions=[10,20,50],this.userIsAuthenticated=!1,this.userData=[],this.displayedColumns=["Name","Email","Location","Role","Mobile","Status","Action"],this.activatedRoute.paramMap.subscribe(t=>{this.userId=t.get("userId")})}ngOnInit(){this.userId&&null!=this.userId||(this.userId=this.authService.getUserId()),this.userIsAuthenticated=this.authService.getIsAuth(),this.isLoading=!0,this.managerService.getAssignedUsers(this.usersPerPage,this.currentPage,this.usersearch,this.userId).subscribe(t=>{this.users=t.users,this.isLoading=!1})}onChangedPage(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.usersPerPage=t.pageSize,this.ngOnInit()}userChangeValue(t){this.currentPage=1,this.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(d),i.Ob(r.a),i.Ob(o.a),i.Ob(m.b),i.Ob(o.b))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-assigned-users"]],decls:41,vars:9,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","50%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["matSuffix",""],["matTooltip","Approve Assigne Employee Leave",1,"btn","btn-success","float-right",3,"routerLink"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Status"],["matColumnDef","Role"],["matColumnDef","Mobile"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","User Leave Details",3,"routerLink"],["md-list-icon",""],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Pb(3,"div",3),i.Ub(4,"div",3),i.Ub(5,"mat-card"),i.Ub(6,"form",4),i.Ub(7,"mat-form-field",5),i.Ub(8,"input",6,7),i.cc("ngModelChange",(function(t){return e.usersearch=t}))("keyup",(function(){i.zc(t);const a=i.wc(9);return e.userChangeValue(a.value)})),i.Tb(),i.Ub(10,"mat-icon",8),i.Ic(11,"search"),i.Tb(),i.Tb(),i.Ub(12,"button",9),i.Ic(13,"Approve Leaves"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(14,"table",10),i.Sb(15,11),i.Gc(16,_,2,0,"th",12),i.Gc(17,P,2,2,"td",13),i.Rb(),i.Sb(18,14),i.Gc(19,O,2,0,"th",12),i.Gc(20,w,2,3,"td",15),i.Rb(),i.Sb(21,16),i.Gc(22,M,2,0,"th",12),i.Gc(23,y,2,1,"td",13),i.Rb(),i.Sb(24,17),i.Gc(25,S,2,0,"th",12),i.Gc(26,D,2,1,"td",13),i.Rb(),i.Sb(27,18),i.Gc(28,k,2,0,"th",12),i.Gc(29,z,4,3,"td",13),i.Rb(),i.Sb(30,19),i.Gc(31,R,2,0,"th",12),i.Gc(32,A,2,1,"td",13),i.Rb(),i.Sb(33,20),i.Gc(34,$,2,0,"th",21),i.Gc(35,E,4,4,"td",22),i.Rb(),i.Gc(36,F,1,0,"tr",23),i.Gc(37,N,1,0,"tr",24),i.Tb(),i.Gc(38,j,1,0,"mat-progress-spinner",25),i.Gc(39,V,2,0,"p",26),i.Gc(40,B,1,3,"mat-paginator",27),i.Tb()}2&t&&(i.Cb(8),i.oc("ngModel",e.usersearch),i.Cb(4),i.oc("routerLink",i.sc(8,H)),i.Cb(2),i.oc("dataSource",e.users),i.Cb(22),i.oc("matHeaderRowDef",e.displayedColumns),i.Cb(1),i.oc("matRowDefColumns",e.displayedColumns),i.Cb(1),i.oc("ngIf",e.isLoading),i.Cb(1),i.oc("ngIf",e.users.length<=0&&!e.isLoading),i.Cb(1),i.oc("ngIf",e.users.length>0))},directives:[u.a,g.v,g.n,g.o,f.b,p.b,g.b,g.m,g.p,h.a,f.g,C.a,o.c,v.j,v.c,v.e,v.b,v.g,v.i,n.l,v.d,v.a,n.n,T.a,o.e,v.f,v.h,I.a,U.a],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),t})();function q(t,e){if(1&t&&(i.Ub(0,"mat-form-field",5),i.Ub(1,"mat-label"),i.Ic(2,"Duration"),i.Tb(),i.Pb(3,"input",15),i.Ub(4,"mat-icon",7),i.Ic(5,"schedule"),i.Tb(),i.Tb()),2&t){const t=i.gc(2);i.Cb(3),i.pc("value",t.data.duration)}}function X(t,e){if(1&t&&(i.Ub(0,"mat-form-field",5),i.Ub(1,"mat-label"),i.Ic(2,"Shift"),i.Tb(),i.Pb(3,"input",16),i.Ub(4,"mat-icon",7),i.Ic(5,"schedule"),i.Tb(),i.Tb()),2&t){const t=i.gc(2);i.Cb(3),i.pc("value",t.data.shift)}}function Y(t,e){if(1&t&&(i.Ub(0,"div",3),i.Ub(1,"div",17),i.Ub(2,"mat-form-field",5),i.Ub(3,"mat-label"),i.Ic(4,"Start Time"),i.Tb(),i.Pb(5,"input",18),i.Ub(6,"mat-icon",7),i.Ic(7,"access_time"),i.Tb(),i.Tb(),i.Tb(),i.Ub(8,"div",17),i.Ub(9,"mat-form-field",5),i.Ub(10,"mat-label"),i.Ic(11,"End Time"),i.Tb(),i.Pb(12,"input",19),i.Ub(13,"mat-icon",7),i.Ic(14,"access_time"),i.Tb(),i.Tb(),i.Tb(),i.Ub(15,"div",17),i.Ub(16,"mat-form-field",5),i.Ub(17,"mat-label"),i.Ic(18,"Time Taken"),i.Tb(),i.Pb(19,"input",20),i.Ub(20,"mat-icon",7),i.Ic(21,"timelapse"),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t){const t=i.gc(2);i.Cb(5),i.pc("value",t.data.start_time),i.Cb(7),i.pc("value",t.data.end_time),i.Cb(7),i.pc("value",t.data.time_taken)}}function Q(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",2),i.Ub(1,"div",3),i.Ub(2,"div",4),i.Ub(3,"mat-form-field",5),i.Ub(4,"mat-label"),i.Ic(5,"Leave Type"),i.Tb(),i.Pb(6,"input",6),i.Ub(7,"mat-icon",7),i.Ic(8,"launch"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(9,"div",3),i.Ub(10,"div",4),i.Ub(11,"mat-form-field",5),i.Ub(12,"mat-label"),i.Ic(13,"Start Date"),i.Tb(),i.Pb(14,"input",8),i.hc(15,"date"),i.Ub(16,"mat-icon",7),i.Ic(17,"calendar_today"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(18,"div",3),i.Ub(19,"div",4),i.Ub(20,"mat-form-field",5),i.Ub(21,"mat-label"),i.Ic(22,"End Date"),i.Tb(),i.Pb(23,"input",9),i.hc(24,"date"),i.Ub(25,"mat-icon",7),i.Ic(26,"calendar_today"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(27,"div",3),i.Ub(28,"div",4),i.Gc(29,q,6,1,"mat-form-field",10),i.Tb(),i.Tb(),i.Ub(30,"div",3),i.Ub(31,"div",4),i.Gc(32,X,6,1,"mat-form-field",10),i.Tb(),i.Tb(),i.Gc(33,Y,22,3,"div",11),i.Ub(34,"div",3),i.Ub(35,"div",4),i.Ub(36,"mat-form-field",5),i.Ub(37,"mat-label"),i.Ic(38,"Comments"),i.Tb(),i.Ub(39,"textarea",12),i.Ic(40),i.Tb(),i.Ub(41,"mat-icon",7),i.Ic(42,"speaker_notes"),i.Tb(),i.Tb(),i.Pb(43,"br"),i.Tb(),i.Tb(),i.Ub(44,"div",13),i.Ub(45,"button",14),i.cc("click",(function(){return i.zc(t),i.gc().close()})),i.Ic(46,"Close"),i.Tb(),i.Ic(47,"\xa0 "),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(6),i.pc("value",t.data.leaveId.leave_type),i.Cb(8),i.pc("value",i.jc(15,8,t.data.start_date,"shortDate")),i.Cb(9),i.pc("value",i.jc(24,11,t.data.end_date,"shortDate")),i.Cb(6),i.oc("ngIf",t.data.duration),i.Cb(3),i.oc("ngIf",t.data.shift),i.Cb(1),i.oc("ngIf","Specify Time"==t.data.duration),i.Cb(6),i.pc("value",t.data.leave_desc),i.Cb(1),i.Jc(t.data.leave_desc)}}let W=(()=>{class t{constructor(t,e,a,n,o,i){this.managerService=t,this.dialogRef=e,this.route=a,this.router=n,this.dialog=o,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.leave=[],this.isEdit=!0,this.userId=null,console.log(i,"0000000"),this.data=i.data,this.leave=i.balance}ngOnInit(){this.isLoading=!1}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(d),i.Ob(m.h),i.Ob(o.a),i.Ob(o.b),i.Ob(m.b),i.Ob(m.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-leave-details"]],decls:5,vars:4,consts:[["mat-dialog-title",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","name","leaveId","readonly","",3,"value"],["matSuffix",""],["matInput","","readonly","","name","start_date",3,"value"],["matInput","","name","end_date","readonly","",3,"value"],["appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],["matInput","","name","leave_desc","type","text","readonly","",3,"value"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["matInput","","name","duration","readonly","",3,"value"],["matInput","","name","shift","readonly","",3,"value"],[1,"col-md-4"],["matInput","","name","start_time","placeholder","Start Time","readonly","",3,"value"],["matInput","","name","end_time","placeholder","End Time","readonly","",3,"value"],["matInput","","name","time_taken","disabled","true","type","text","readonly","",3,"value"]],template:function(t,e){1&t&&(i.Ub(0,"div"),i.Ub(1,"h2",0),i.Ic(2),i.hc(3,"date"),i.Tb(),i.Tb(),i.Gc(4,Q,48,14,"div",1)),2&t&&(i.Cb(2),i.Kc("Leave Details Applied On: ",i.ic(3,2,e.data.createdAt),""),i.Cb(2),i.oc("ngIf",!e.isLoading))},directives:[m.i,n.l,f.b,f.f,p.b,h.a,f.g,T.b],pipes:[n.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),t})();var Z=a("iadO"),tt=a("d3UM"),et=a("FKr1");function at(t,e){if(1&t&&(i.Ub(0,"mat-option",36),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.oc("value",t.title),i.Cb(1),i.Kc(" ",t.title," ")}}function nt(t,e){if(1&t&&(i.Ub(0,"div",1),i.Ub(1,"div",37),i.Ub(2,"button",38),i.Ic(3),i.Tb(),i.Ic(4,"\xa0 "),i.Ub(5,"button",39),i.Ic(6),i.Tb(),i.Ic(7,"\xa0 "),i.Ub(8,"button",40),i.Ic(9),i.Tb(),i.Ic(10,"\xa0 "),i.Ub(11,"button",41),i.Ic(12),i.Tb(),i.Ic(13,"\xa0 "),i.Ub(14,"button",42),i.Ic(15),i.Tb(),i.Ic(16,"\xa0 "),i.Tb(),i.Tb()),2&t){const t=i.gc();i.Cb(3),i.Jc(t.leaveBalance.leave_balance),i.Cb(3),i.Jc(t.leaveBalance.optional_holidays),i.Cb(3),i.Jc(t.leaveBalance.camp_off),i.Cb(3),i.Jc(t.leaveBalance.marternity_leave),i.Cb(3),i.Jc(t.leaveBalance.paternity_leave)}}function ot(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," Leave Type"),i.Tb())}function it(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.leaveId.leave_type," ")}}function ct(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," Start Date "),i.Tb())}function st(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.hc(2,"date"),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",i.ic(2,1,t.start_date)," ")}}function rt(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," Applied Date "),i.Tb())}function bt(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.hc(2,"date"),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",i.ic(2,1,t.createdAt)," ")}}function lt(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," End Date "),i.Tb())}function dt(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.hc(2,"date"),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",i.ic(2,1,t.end_date)," ")}}function mt(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," No of Days Taken "),i.Tb())}function ut(t,e){if(1&t&&(i.Ub(0,"a",46),i.Ic(1),i.Tb()),2&t){const t=i.gc().$implicit;i.pc("matTooltip",t.time_taken),i.Cb(1),i.Kc(" days - ",t.time_taken," (hrs : mins)")}}function gt(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.Gc(2,ut,2,2,"a",45),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.no_of_days_taken," "),i.Cb(1),i.oc("ngIf",0==t.no_of_days_taken)}}function ft(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," Loss of Pay "),i.Tb())}function pt(t,e){1&t&&(i.Ub(0,"a"),i.Ic(1,"-- --"),i.Tb())}function ht(t,e){if(1&t&&(i.Ub(0,"a"),i.Ic(1),i.Tb()),2&t){const t=i.gc().$implicit;i.Cb(1),i.Kc("",t.los_of_pay_days," ")}}function Ct(t,e){if(1&t&&(i.Ub(0,"td",44),i.Gc(1,pt,2,0,"a",47),i.Gc(2,ht,2,1,"a",47),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.oc("ngIf",t.los_of_pay_days<=0),i.Cb(1),i.oc("ngIf",t.los_of_pay_days>0)}}function vt(t,e){1&t&&(i.Ub(0,"th",43),i.Ic(1," Status "),i.Tb())}function Tt(t,e){if(1&t&&(i.Ub(0,"td",44),i.Ic(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Kc(" ",t.status," ")}}function It(t,e){1&t&&(i.Ub(0,"th",48),i.Ic(1,"Action "),i.Tb())}function Ut(t,e){1&t&&(i.Ub(0,"a",56),i.Ub(1,"mat-icon",51),i.Ic(2,"check"),i.Tb(),i.Tb())}function _t(t,e){if(1&t){const t=i.Vb();i.Ub(0,"a",57),i.cc("click",(function(){i.zc(t);const e=i.gc().$implicit;return i.gc().updateLeaveStatus(e,"Canceled")})),i.Ub(1,"mat-icon",51),i.Ic(2,"cancel"),i.Tb(),i.Tb()}}function Pt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"a",58),i.cc("click",(function(){i.zc(t);const e=i.gc().$implicit;return i.gc().approveLeave(e,"Approved")})),i.Ub(1,"mat-icon",51),i.Ic(2,"check"),i.Tb(),i.Tb()}}function Ot(t,e){1&t&&(i.Ub(0,"a",59),i.Ub(1,"mat-icon",51),i.Ic(2,"block"),i.Tb(),i.Tb())}function wt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"td",49),i.Ub(1,"a",50),i.cc("click",(function(){i.zc(t);const a=e.$implicit;return i.gc().openDialog(a)})),i.Ub(2,"mat-icon",51),i.Ic(3,"info"),i.Tb(),i.Tb(),i.Gc(4,Ut,3,0,"a",52),i.Gc(5,_t,3,0,"a",53),i.Gc(6,Pt,3,0,"a",54),i.Gc(7,Ot,3,0,"a",55),i.Tb()}2&t&&(i.oc("ngSwitch",e.$implicit.status),i.Cb(4),i.oc("ngSwitchCase","Approved"),i.Cb(1),i.oc("ngSwitchCase","Pending"),i.Cb(1),i.oc("ngSwitchCase","Pending"),i.Cb(1),i.oc("ngSwitchCase","Canceled"))}function Mt(t,e){1&t&&i.Pb(0,"tr",60)}function yt(t,e){1&t&&i.Pb(0,"tr",61)}function St(t,e){1&t&&i.Pb(0,"mat-progress-spinner",62)}function Dt(t,e){1&t&&(i.Ub(0,"p",63),i.Ic(1,"No Leaves Found!"),i.Tb())}function kt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-paginator",64),i.cc("page",(function(e){return i.zc(t),i.gc().onChangedPage(e)})),i.Tb()}if(2&t){const t=i.gc();i.oc("length",t.Count)("pageSize",t.perPage)("pageSizeOptions",t.sizeOptions)}}let xt=(()=>{class t{constructor(t,e,a,n){this.managerService=t,this.activatedRoute=e,this.dialog=a,this.router=n,this.leaves=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50,100],this.displayedColumns1=["Leave Type","Applied Date","Start Date","End Date","No of Days Taken","Loss of Pay","Status","Action"],this.filterTypes=[{title:"Approved",id:1},{title:"Rejected",id:2},{title:"Pending",id:3},{title:"Canceled",id:4}],this.userId=this.managerService.getUserId(),this.activatedRoute.paramMap.subscribe(t=>{this.userId=t.get("userId")});let o=new Date,i=(o.getMonth(),o.getFullYear());o.getDate(),this.start_date=new Date(`${i}/01/01`),this.end_date=new Date(`${i}/12/31`)}ngOnInit(){this.isLoading=!0,this.assigneeId=this.managerService.getUserId();let t={assigneeId:this.assigneeId};this.userId&&(t.userId=this.userId),this.managerService.getAssignedLeaves(this.perPage,this.currentPage,this.filter,this.start_date,this.end_date,t).subscribe(t=>{this.leaves=t.data,this.isLoading=!1,this.Count=t.count})}updateLeaveStatus(t,e){this.managerService.updateLeaveStatus(t,e).subscribe(t=>{this.ngOnInit()})}approveLeave(t,e){this.managerService.approveLeave(t,e).subscribe(t=>{this.ngOnInit()})}checkChangesDates(t,e){console.log("changeeee"),"startDate"==t&&(this.start_date=e.value),"endDate"==t&&(this.end_date=e.value),this.ngOnInit()}onChangeFilter(){this.isLoading=!0,this.ngOnInit()}onChangedPage(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}openDialog(t){const e=new m.e;e.disableClose=!1,e.autoFocus=!0,e.width="610px",e.data={data:t},this.dialog.open(W,e).afterClosed().subscribe(t=>{this.ngOnInit()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(d),i.Ob(o.a),i.Ob(m.b),i.Ob(o.b))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-myleave"]],decls:65,vars:15,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"row",2,"margin","9px"],["appearance","outline"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Start Date"],["matColumnDef","Applied Date"],["matColumnDef","End Date"],["matColumnDef","No of Days Taken"],["matColumnDef","Loss of Pay"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"row",2,"float","right"],["mat-mini-fab","","matTooltip","Annual Leave"],["mat-mini-fab","","matTooltip","Optional Leave"],["mat-mini-fab","","matTooltip","Camp Off Leave"],["mat-mini-fab","","matTooltip","Marternity Leave"],["mat-mini-fab","","matTooltip","Paternity Leave"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","Leave Details",3,"click"],["md-list-icon",""],["mat-button","","color","accent","matTooltip","Approved",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Leave Canceled",4,"ngSwitchCase"],["mat-button","","color","accent","matTooltip","Approved"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click"],["mat-button","","color","warn","matTooltip","Leave Canceled"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Ub(5,"div",3),i.Ub(6,"mat-form-field",5),i.Ub(7,"mat-label"),i.Ic(8,"Start Date"),i.Tb(),i.Ub(9,"input",6,7),i.cc("dateChange",(function(t){return e.checkChangesDates("startDate",t)}))("ngModelChange",(function(t){return e.start_date=t})),i.Tb(),i.Pb(11,"mat-datepicker-toggle",8),i.Pb(12,"mat-datepicker",9,10),i.Tb(),i.Tb(),i.Ub(14,"div",3),i.Ub(15,"mat-form-field",5),i.Ub(16,"mat-label"),i.Ic(17,"End Date"),i.Tb(),i.Ub(18,"input",11,12),i.cc("dateChange",(function(t){return e.checkChangesDates("edataInput",t)}))("ngModelChange",(function(t){return e.end_date=t})),i.Tb(),i.Pb(20,"mat-datepicker-toggle",8),i.Pb(21,"mat-datepicker",9,13),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(23,"div",3),i.Ub(24,"div",4),i.Ub(25,"div",3),i.Ub(26,"mat-form-field",5),i.Ub(27,"mat-label"),i.Ic(28,"Filter"),i.Tb(),i.Ub(29,"mat-select",14,15),i.cc("selectionChange",(function(){return e.onChangeFilter()}))("ngModelChange",(function(t){return e.filter=t})),i.Gc(31,at,2,2,"mat-option",16),i.Tb(),i.Tb(),i.Tb(),i.Pb(32,"div",3),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Pb(33,"br"),i.Gc(34,nt,17,5,"div",17),i.Ub(35,"table",18),i.Sb(36,19),i.Gc(37,ot,2,0,"th",20),i.Gc(38,it,2,1,"td",21),i.Rb(),i.Sb(39,22),i.Gc(40,ct,2,0,"th",20),i.Gc(41,st,3,3,"td",21),i.Rb(),i.Sb(42,23),i.Gc(43,rt,2,0,"th",20),i.Gc(44,bt,3,3,"td",21),i.Rb(),i.Sb(45,24),i.Gc(46,lt,2,0,"th",20),i.Gc(47,dt,3,3,"td",21),i.Rb(),i.Sb(48,25),i.Gc(49,mt,2,0,"th",20),i.Gc(50,gt,3,2,"td",21),i.Rb(),i.Sb(51,26),i.Gc(52,ft,2,0,"th",20),i.Gc(53,Ct,3,2,"td",21),i.Rb(),i.Sb(54,27),i.Gc(55,vt,2,0,"th",20),i.Gc(56,Tt,2,1,"td",21),i.Rb(),i.Sb(57,28),i.Gc(58,It,2,0,"th",29),i.Gc(59,wt,8,5,"td",30),i.Rb(),i.Gc(60,Mt,1,0,"tr",31),i.Gc(61,yt,1,0,"tr",32),i.Tb(),i.Gc(62,St,1,0,"mat-progress-spinner",33),i.Gc(63,Dt,2,0,"p",34),i.Gc(64,kt,1,3,"mat-paginator",35),i.Tb()),2&t){const t=i.wc(13),a=i.wc(22);i.Cb(9),i.oc("matDatepicker",t)("ngModel",e.start_date),i.Cb(2),i.oc("for",t),i.Cb(7),i.oc("matDatepicker",a)("ngModel",e.end_date),i.Cb(2),i.oc("for",a),i.Cb(9),i.oc("ngModel",e.filter),i.Cb(2),i.oc("ngForOf",e.filterTypes),i.Cb(3),i.oc("ngIf",!e.isLoading&&e.leaveBalance),i.Cb(1),i.oc("dataSource",e.leaves),i.Cb(25),i.oc("matHeaderRowDef",e.displayedColumns1),i.Cb(1),i.oc("matRowDefColumns",e.displayedColumns1),i.Cb(1),i.oc("ngIf",e.isLoading),i.Cb(1),i.oc("ngIf",e.leaves.length<=0&&!e.isLoading),i.Cb(1),i.oc("ngIf",e.leaves.length>0)}},directives:[f.b,f.f,p.b,Z.b,g.b,g.t,g.m,g.p,Z.d,f.g,Z.a,tt.a,n.k,n.l,v.j,v.c,v.e,v.b,v.g,v.i,et.n,T.b,C.a,v.d,v.a,n.n,T.a,h.a,n.o,v.f,v.h,I.a,U.a],pipes:[n.e],styles:[".mat-card[_ngcontent-%COMP%]{-webkit-transition:box-shadow .28s cubic-bezier(.4,0,.2,1);transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),t})();const Lt=[{path:"assigned_users",component:J},{path:"assigned_users/:userId",component:J},{path:"approve_leave",component:xt},{path:"approve_leave/:assignUserId",component:xt},{path:"",redirectTo:"assigned_userss",pathMatch:"full"}];let Gt=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(Lt)],o.f]}),t})();var zt=a("rhD1");a.d(e,"ManagerModule",(function(){return Rt}));let Rt=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[n.c,g.g,g.s,zt.a,Gt]]}),t})()}}]);